{"version":3,"file":"mean-rest-angular.umd.js.map","sources":["node_modules/tslib/tslib.es6.js","ng://mean-rest-angular/util.modal.ts","ng://mean-rest-angular/util.snackbar.ts","ng://mean-rest-angular/util.errortoast.ts","ng://mean-rest-angular/base.service.ts","ng://mean-rest-angular/common.service.ts","ng://mean-rest-angular/util.tools.ts","ng://mean-rest-angular/base.component.ts","ng://mean-rest-angular/common.directives.ts","ng://mean-rest-angular/summernote.directive.ts","ng://mean-rest-angular/mra.module.ts","ng://mean-rest-angular/ngb-date-formatter.ts","ng://mean-rest-angular/route-reuse-strategy.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","var modalHtml = `\n<div class=\"meanExpressAngularModal\" id=\"meanExpressAngularModal\">\n  <div class=\"meanExpressAngularModal-content\">\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h5 class=\"modal-title\" id=\"meanExpressAngularModalTitle\">Modal title from function</h5>\n        <button type=\"button\" class=\"close\" id=\"meanExpressAngularModalClose\" aria-label=\"Close\" >\n          <span aria-hidden=\"true\">&times;</span>\n        </button>\n      </div>\n      <div class=\"modal-body\" id=\"meanExpressAngularModalBody\">\n        Hello\n      </div>\n      <div class=\"modal-footer\" id=\"meanExpressAngularModalFooter\">\n      </div>\n    </div>\n  </div>\n</div> \n`;\n\nvar modalCss = `\n.meanExpressAngularModal {\n    display: none; \n    position: fixed; \n    z-index: 100; \n    padding-top: 100px; \n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%; \n    overflow: auto; \n    background-color: rgb(0,0,0);\n    background-color: rgba(0,0,0,0.4);\n}\n\n.meanExpressAngularModal.show {\n    display: block; \n}\n\n.meanExpressAngularModal-content {\n    position: relative;\n    background-color: #fefefe;\n    margin: auto;\n    padding: 0;\n    border: 1px solid #888;\n    width: 50%;\n    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);\n    -webkit-animation-name: modalanimatetop;\n    -webkit-animation-duration: 0.4s;\n    animation-name: modalanimatetop;\n    animation-duration: 0.4s\n}\n\n@-webkit-keyframes modalanimatetop {\n    from {top:-300px; opacity:0} \n    to {top:0; opacity:1}\n}\n\n@keyframes modalanimatetop {\n    from {top:-300px; opacity:0}\n    to {top:0; opacity:1}\n}\n`;\n\ndeclare var $: any;\n\nexport class ModalConfig {\n    title: string;\n    content: string;\n    //list of button text\n    buttons: string[];\n    //list of button returns when clicked\n    returns: boolean[];\n    callBack: (result) => void;\n}\n\nexport class Modal {\n    constructor(private config: ModalConfig ) {}\n\n    public show() {\n        var config = this.config;\n        if (!$('#meanExpressAngularModal').length) {\n            $(\"<style type='text/css' id='meanExpressAngularModalCss'>\" + modalCss + \"</style>\").appendTo(\"head\"); \n            $('body').append(modalHtml);\n        }\n        \n        $( \"#meanExpressAngularModalFooter\" ).empty();\n        for (var i=0; i< config.buttons.length; i++) {\n            var text = config.buttons[i];\n            var button = '<button type=\"button\" class=\"btn btn-primary\" id=\"meanExpressAngularModalBtn' + i + '\" >' + text + '</button>';\n            $( \"#meanExpressAngularModalFooter\" ).append(button);\n            \n            $( \"#meanExpressAngularModalBtn\"+i ).click(function(event) {\n                $('#meanExpressAngularModal').removeClass(\"show\");\n                var index = parseInt(event.target.id.replace(\"meanExpressAngularModalBtn\", \"\"));\n                config.callBack(config.returns[index]);\n            });\n        }\n\n        $( \"#meanExpressAngularModalTitle\" ).empty();\n        $( \"#meanExpressAngularModalTitle\" ).append(config.title);\n        $( \"#meanExpressAngularModalBody\" ).empty();\n        $( \"#meanExpressAngularModalBody\" ).append(config.content);\n\n        $( \"#meanExpressAngularModalClose\" ).click(function() {\n            $('#meanExpressAngularModal').removeClass(\"show\");\n            config.callBack(false);\n        });\n\n        $('#meanExpressAngularModal').addClass(\"show\");\n    }\n    \n    public hide() {\n        $('#meanExpressAngularModal').removeClass(\"show\");\n    }\n}\n","var snackBarCss = `\n.meanExpressAngularSnackBar {\n    visibility: hidden;\n    min-width: 250px;\n    margin-left: -125px;\n    background-color: #333;\n    color: #fff;\n    text-align: center; \n    border-radius: 2px; \n    padding: 16px; \n    position: fixed;\n    z-index: 1;\n    left: 50%;\n    bottom: 30px;\n}\n\n.meanExpressAngularSnackBar.show {\n    visibility: visible;\n\n    -webkit-animation: snackbarfadein 0.5s, snackbarfadeout 0.5s 2.5s;\n    animation: snackbarfadein 0.5s, snackbarfadeout 0.5s 2.5s;\n}\n\n@-webkit-keyframes snackbarfadein {\n    from {bottom: 0; opacity: 0;} \n    to {bottom: 30px; opacity: 1;}\n}\n\n@keyframes snackbarfadein {\n    from {bottom: 0; opacity: 0;}\n    to {bottom: 30px; opacity: 1;}\n}\n\n@-webkit-keyframes snackbarfadeout {\n    from {bottom: 30px; opacity: 1;} \n    to {bottom: 0; opacity: 0;}\n}\n\n@keyframes snackbarfadeout {\n    from {bottom: 30px; opacity: 1;}\n    to {bottom: 0; opacity: 0;}\n}\n`;\ndeclare var $: any;\n\nexport class SnackBarConfig {\n    content: string;\n}\n\nexport class SnackBar {\n    \n    constructor(private config: SnackBarConfig ) {}\n    private getHtml() {\n        var id = 'meanExpressAngularSnackBar' + Date.now();\n        var snackBarHtml = `\n<div class=\"meanExpressAngularSnackBar\" id=\"` + id + `\">\n\n</div>\n`;\n        return {id: id, html: snackBarHtml};\n    }\n\n    public show() {\n        if (!$('#meanExpressAngularSnackBarCss').length) {\n            $(\"<style type='text/css' id='meanExpressAngularSnackBarCss'>\" + snackBarCss + \"</style>\").appendTo(\"head\"); \n        }\n        \n        var html = this.getHtml();\n        var selector = '#' + html.id;\n        $('body').append(html.html);\n        $(selector).append(this.config.content);\n\n        $(selector).addClass(\"show\");\n        \n        setTimeout(function(){ \n            $(selector).removeClass(\"show\");\n            setTimeout(function(){$(selector).remove();}, 500);\n         }, 3000);\n    }\n\n}\n","var errorCss = `\n.meanExpressAngularError {\n    visibility: hidden; \n    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2), 0 6px 20px 0 rgba(0,0,0,0.19);\n    min-width: 250px; \n    max-width: 60%;\n    left: 50%;\n    top: 20%;\n    transform: translate(-50%, 0);\n    position: fixed; \n    z-index: 10; \n}\n.meanExpressAngularError.show {\n    visibility: visible; \n}\n\n.meanExpressAngularErrorMoreLink {\n    display: none;\n}\n.meanExpressAngularErrorMoreLink.show {\n    display: block;\n}\n.meanExpressAngularErrorMore {\n    display: none;\n    font-size: 0.75rem;\n    font-color: black;\n    background-color: gray;\n}\n.meanExpressAngularErrorMore.show {\n    display: block;\n}\n`;\n\ndeclare var $: any;\n\nexport class ErrorToastConfig {\n    content: string;\n    more: string;\n}\n\nexport class ErrorToast {\n    \n    constructor(private config: ErrorToastConfig ) {}\n    private getHtml() {\n        var id = 'meanExpressAngularError' + Date.now();\n        var errorHtml = `\n<div class=\"alert alert-danger fade in alert-dismissible meanExpressAngularError\"\n    id=\"`+id+`\">\n <button type=\"button\" class=\"close\" aria-label=\"Close\" id=\"button`+id+`\">\n    <span aria-hidden=\"true\" style=\"font-size:20px\">Ã</span>\n  </button>\n  <div>\n    <strong>Error!</strong>\n  </div>\n  <div id=\"content`+id+`\">\n  </div>\n  <a id=\"link`+id+`\" class=\"meanExpressAngularErrorMoreLink\" href=\".\" >Show more details...\n  </a>\n  <div id=\"more`+id+`\" class=\"meanExpressAngularErrorMore\">\n  </div>\n</div>\n`;\n        return {id: id, html: errorHtml};\n    }\n\n    public show() {\n        if (!$('#meanExpressAngularErrorCss').length) {\n            $(\"<style type='text/css' id='meanExpressAngularErrorCss'>\" + errorCss + \"</style>\").appendTo(\"head\"); \n        }\n        var html = this.getHtml();\n        var selector = '#' + html.id;\n        var contentSelector = '#content' + html.id;\n        var moreSelector = '#more' + html.id;\n        var linkSelector = '#link' + html.id;\n        var buttonSelector = '#button' + html.id;\n        $('body').append(html.html);\n        $(contentSelector).append(this.config.content);\n        if (this.config.more) {\n            $(moreSelector).append(this.config.more);\n            $(linkSelector).addClass(\"show\");\n            $(linkSelector).click(function(event) {\n                event.preventDefault();\n                $(moreSelector).addClass(\"show\");\n            });\n        }\n        $(buttonSelector).click(function(event) {$(selector).removeClass(\"show\");});\n        \n        $(selector).addClass(\"show\");\n    }\n\n}\n","import { Observable, throwError } from 'rxjs';\nimport { catchError, map, filter, retry } from 'rxjs/operators';\nimport { HttpClient, HttpHeaders,HttpParams, HttpErrorResponse } from '@angular/common/http';\n\nexport class ServiceError {\n    status:number;\n    clientErrorMsg:string;\n    serverError:any;\n}\n\nexport class BaseService {\n    protected storage:any = {};\n\n    constructor(protected http: HttpClient, protected serviceUrl: string) {}\n    \n    public getFromStorage(name:string) {\n        return this.storage[name];\n    }\n    public putToStorage(name:string, value:any) {\n        this.storage[name] = value;\n    }\n    \n    protected errorResponseHandler(error: HttpErrorResponse) {\n      let err:ServiceError = new ServiceError();;\n      if (error.error instanceof ErrorEvent) {\n          // A client-side or network error occurred. Handle it accordingly.\n          err.status = 0;\n          err.clientErrorMsg = error.error.message\n      } else {\n          // The backend returned an unsuccessful response code.\n          // The response body may contain clues as to what went wrong,\n          err.status = error.status;\n          err.serverError = error.error;\n      }\n      // return an observable with a user-facing error message\n      return throwError(\n        err\n      );\n    }\n\n    protected formatDetail(detail:any): any {\n        return detail;\n    }\n    \n    protected formatList(list:any): any {\n        return list;\n    }\n\n    getList(page:number, per_page:number, searchContext:any) {\n        let httpOptions = {\n            params: new HttpParams().set('__page', page.toString())\n                                    .set('__per_page', per_page.toString()),\n            headers: new HttpHeaders({ 'Accept': 'application/json' }),\n        };\n        \n        if (!searchContext) {\n            return this.http.get<any>(this.serviceUrl, httpOptions)\n                .pipe(\n                    map(this.formatList),\n                    catchError(this.errorResponseHandler)\n                );\n        }\n        httpOptions.params = httpOptions.params.set('action', \"Search\");\n        return this.http.post<any>(this.serviceUrl+ \"mddsaction/get\", searchContext, httpOptions)\n            .pipe(\n                catchError(this.errorResponseHandler)\n            );\n    }\n\n    getListWithCondition(page:number, per_page:number) {\n        let httpOptions = {\n            params: new HttpParams().set('__page', page.toString())\n                                    .set('__per_page', per_page.toString()),\n            headers: new HttpHeaders({ 'Accept': 'application/json' }),\n        };\n\n        return this.http.get<any>(this.serviceUrl, httpOptions)\n            .pipe(\n                map(this.formatList),\n                catchError(this.errorResponseHandler)\n            );\n    }\n\n    getDetailForAction(id: string, action: string) {\n        let httpOptions = {\n          headers: new HttpHeaders({ 'Accept': 'application/json' }),\n        };\n        let serviceUrl = this.serviceUrl\n        if (action) {\n          httpOptions['params'] = new HttpParams().set('action', action);\n          if (action == \"edit\") action = \"post\"\n          serviceUrl = serviceUrl + \"mddsaction/\" + action + \"/\";\n        }\n        return this.http.get<any>(serviceUrl + id, httpOptions)\n            .pipe(\n                map(this.formatDetail),\n                catchError(this.errorResponseHandler)\n            );\n    }\n    getDetail(id: string) {\n        return this.getDetailForAction(id, null);\n    }\n    deleteOne(id:string) {\n        return this.http.delete<any>(this.serviceUrl + id)\n            .pipe(\n                catchError(this.errorResponseHandler)\n            );\n    }\n    deleteManyByIds(ids:string[]) {\n        let httpOptions = {\n            headers: new HttpHeaders({ 'Content-Type': 'application/json' }),\n            params: new HttpParams().set('action', \"DeleteManyByIds\"),\n        };\n        return this.http.post<any>(this.serviceUrl + \"mddsaction/delete\", ids, httpOptions)\n            .pipe(\n                catchError(this.errorResponseHandler)\n            );\n    }\n    createOne(item:any) {\n        let httpOptions = {\n            headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n        };\n        return this.http.put<any>(this.serviceUrl, item, httpOptions)\n            .pipe(\n                map(this.formatDetail),\n                catchError(this.errorResponseHandler)\n            );\n    }\n    updateOne(id:string, item:any) {\n        let httpOptions = {\n            headers: new HttpHeaders({ 'Content-Type': 'application/json' })\n        };\n        return this.http.post<any>(this.serviceUrl + id, item, httpOptions)\n            .pipe(\n                catchError(this.errorResponseHandler)\n            );\n    }\n}\n","import { Injectable } from '@angular/core';\n \n@Injectable(\n)\nexport class MraCommonService {\n    private storage:any = {};\n\n    constructor() {}\n    \n    public getFromStorage(name:string) {\n        return this.storage[name];\n    }\n    public putToStorage(name:string, value:any) {\n        this.storage[name] = value;\n    }\n}\n","export class Util {\n\n  static clone(obj:any):any {\n    let copy;\n\n    // Handle the 3 simple types, and null or undefined\n    if (null == obj || \"object\" != typeof obj) return obj;\n\n    // Handle Date\n    if (obj instanceof Date) {\n        copy = new Date();\n        copy.setTime(obj.getTime());\n        return copy;\n    }\n\n    // Handle Array\n    if (obj instanceof Array) {\n        copy = [];\n        for (var i = 0, len = obj.length; i < len; i++) {\n            copy[i] = Util.clone(obj[i]);\n        }\n        return copy;\n    }\n\n    // Handle Object\n    if (obj instanceof Object) {\n        copy = {};\n        for (var attr in obj) {\n            if (obj.hasOwnProperty(attr)) copy[attr] = Util.clone(obj[attr]);\n        }\n        return copy;\n    }\n\n    throw new Error(\"Unable to copy obj! Its type isn't supported.\");\n  }\n\n}\n","import { Router, ActivatedRoute, ParamMap } from '@angular/router';\nimport { Injector, EventEmitter } from '@angular/core';\n\nimport { Location } from '@angular/common';\n\nimport { Observable } from 'rxjs';\nimport { switchMap } from 'rxjs/operators';\n\nimport { ModalConfig, Modal} from './util.modal';\nimport { SnackBarConfig, SnackBar} from './util.snackbar';\nimport { ErrorToastConfig, ErrorToast} from './util.errortoast';\n\nimport { BaseService, ServiceError } from './base.service';\nimport { MraCommonService } from './common.service';\nimport { BaseComponentInterface } from './base.interface';\nimport { Util } from './util.tools';\n\nexport enum ViewType {\n    LIST,\n    DETAIL,\n    EDIT,\n}\n\nexport {ServiceError};\n\nexport class BaseComponent implements BaseComponentInterface {\n    protected objectKeys = Object.keys;\n  \n    private storage:any = {};\n\n    //For list and pagination\n    protected list:any[] = [];\n        \n    protected majorUi = true;\n    protected eventEmitter: EventEmitter<any> = new EventEmitter();\n    \n    protected page: number = 1;\n    protected per_page: number = 25;\n    protected total_count: number = 0;\n    protected total_pages: number = 0;\n    \n    private new_page;\n    \n    protected pages: number[] = [];\n    protected left_more:boolean = false;\n    protected right_more:boolean = false;\n\n    protected checkAll = false;\n    //used to mark deleted items, or items that will show sub-detail, etc.\n    protected checkedItem:boolean[] = [];\n    \n    //For edit and view details\n    protected detail:any = {};\n    private _detail:any = {}; //a clone and used to send/receive from next work\n    private _extra:any = {}; //extra info.\n    protected id:string;\n    protected subEdit = false; //a edit-sub component\n    //for fields with enum values\n    protected enums:any = {};\n    protected stringFields = [];\n    protected referenceFields: string[] = [];\n    protected referenceFieldsMap = {};\n    protected dateFields = [];\n    protected indexFields = [];\n    protected multiSelectionFields = [];\n    protected arrayFields = []; //element is [fieldName, elementType]\n    protected mapFields = []; //element is [fieldName, elementType, mapKey]\n    protected dateFormat = \"MM/DD/YYYY\";\n    protected timeFormat = \"hh:mm:ss\";\n\n    protected hiddenFields = []; //fields hide from view. Currrently used by \"Add\" view of edit-sub\n\n    protected ItemCamelName: string;\n    protected itemName: string;\n    protected parentItem: string;\n  \n    protected refreshing: boolean = false;\n  \n    protected commonService: MraCommonService;\n\n    constructor(\n        protected service: BaseService,\n        protected injector: Injector,\n        protected router: Router,\n        protected route: ActivatedRoute,\n        protected location: Location,\n        protected view: ViewType,\n        protected itemCamelName: string) {\n      \n        this.ItemCamelName = itemCamelName.charAt(0).toUpperCase() + itemCamelName.substr(1);\n        this.itemName = itemCamelName.toLowerCase();\n        this.parentItem = this.getParentRouteItem();\n        this.commonService = injector.get(MraCommonService);\n        \n    }\n    \n    protected onServiceError(error:ServiceError):void {\n        //clear any pending flags\n        this.refreshing = false;\n      \n        let errMsg:string;\n        let more:string;\n        if (error.clientErrorMsg) {\n            errMsg = error.clientErrorMsg;\n        }\n        else if (error.serverError) {\n            if (error.status == 401)  return; //Don't show unauthorized error\n            if (typeof error.serverError === 'object') {\n                errMsg = error.status + \": \" + JSON.stringify(error.serverError);\n            } else {\n                errMsg = error.status + \": \" +error.serverError;\n            }\n        }\n        console.info(\"Error: \" + errMsg);\n        if (!errMsg) errMsg = \"Unknown error.\";\n        if (errMsg.length > 80) {\n            more = errMsg;\n            errMsg = errMsg.substring(0, 80) + \"...\";\n        }\n        let errorToastConfig: ErrorToastConfig = {\n            content: errMsg,\n            more: more\n        }\n        let errorToast = new ErrorToast(errorToastConfig);\n        errorToast.show();\n    }\n\n    protected populatePages():void {        \n        this.pages = []\n        const SHOW_PAGE = 9;\n        const HALF = (SHOW_PAGE-1)/2;\n        \n        let min, max;\n        if (this.total_pages <= SHOW_PAGE) {\n            min = 1;\n            max = this.total_pages;\n            this.left_more = false; \n            this.right_more = false;\n        } else {\n            if (this.page - 1 < HALF) {\n                min = 1;\n                max = SHOW_PAGE-1;\n                this.left_more = false; \n                this.right_more = true;\n            } else if (this.total_pages - this.page < HALF) {\n                max = this.total_pages;\n                min = (this.total_pages - SHOW_PAGE + 1) + 1;\n                this.left_more = true; \n                this.right_more = false;\n            } else {\n                min = this.page - HALF + 1;\n                max = this.page + HALF - 1;\n                this.left_more = true; \n                this.right_more = true;\n            }\n        }\n        for (let i = min; i <= max; i++) {\n            this.pages.push(i);\n        }\n    }\n    \n    private getKey(key:string):string {\n        let url = this.router.url.split(';')[0].split('?')[0];\n        return url+ \":\" + key;\n    }\n    private putToStorage(key:string, value:any):void {\n        if (this.majorUi) {\n            //only major UI we want to cache and recover when user comes back\n            this.commonService.putToStorage(this.getKey(key), value);\n        } else {\n            this.storage[key] = value;\n        }\n    }\n    private getFromStorage(key:string):any {\n        if (this.majorUi) {\n            return this.commonService.getFromStorage(this.getKey(key));\n        } else {\n            return this.storage[key];\n        }\n    }\n    private routeToPage(page:number):void {\n        this.putToStorage(\"page\", page);\n        this.populateList();\n    }\n    \n    protected onNextPage():void {\n        if (this.page >= this.total_pages) return;\n        this.routeToPage(this.page + 1);\n    }\n    \n    protected onPreviousPage():void {\n        if (this.page <= 1) return;\n        this.routeToPage(this.page - 1);\n    }\n\n    protected onGotoPage(p:number):void {\n        if (p > this.total_pages || p < 1) return;\n        this.routeToPage(p)\n    }\n    \n    protected goBack() {\n        this.location.back();\n        /*\n        // window.history.back();\n        if (this.view != ViewType.EDIT)\n            this.location.back();\n        else {\n            let url = this.location.path(); //in EDIT view, the current url is skipped. So get the \"previous\" one from path.\n            this.router.navigateByUrl(url);\n        }\n        */\n    }\n    \n    protected stringify(detail:any): string {\n        let str = \"\";\n        for (let fnm of this.indexFields) {\n            if (detail[fnm] && typeof detail[fnm] != 'object') str += \" \" + detail[fnm];\n        }\n        if (!str)  {\n            for (let prop in detail) {\n                if (prop !== '_id' && detail[prop] && typeof detail[prop] != 'object') {\n                    str += \" \" + detail[prop];\n                }\n            }\n        }\n        if (!str) str = detail[\"_id\"]?detail[\"_id\"]:\"...\"\n        str = str.replace(/^\\s+|\\s+$/g, '')\n        if (str.length > 30) str = str.substr(0, 27) + '...';\n        return str;\n    }\n  \n    /***Start: handle reference fields***/\n    protected formatReferenceField(field: any, fieldName: string ):any {\n        let id, value;\n        if (typeof field == 'string') {\n            //assume this is the \"_id\", let see we have the cached details for this ref from service\n            let refDetail = this.commonService.getFromStorage(field);\n            if (refDetail && (typeof refDetail == 'object')) field = refDetail;\n            else {\n                id = field;\n                field = {'_id': id};\n            }\n        } else if (field && (typeof field == 'object') ) {\n            id = field['_id'];\n            let referIndex = '';\n            for (let k in  field) {\n                if (k != '_id') referIndex += \" \" + field[k];\n            }\n            referIndex = referIndex.replace(/^\\s+|\\s+$/g, '');\n            if (referIndex.length >= 20) referIndex = referIndex.substring(0, 20) + \"...\";\n            field = {'_id': id, 'value': referIndex? referIndex: fieldName};\n        } else {//not defined\n            field = {'_id': id, 'value': value};\n        }\n        return field;\n    }\n    protected formatReference(detail:any ):any {\n        for (let fnm of this.referenceFields) {\n            detail[fnm] = this.formatReferenceField(detail[fnm], fnm);\n        }\n        return detail;\n    }\n    protected deFormatReference(detail:any ):any {\n        for (let fnm of this.referenceFields) {\n            if (typeof detail[fnm] !== 'object') { //not defined\n                //let date values undefined\n                delete detail[fnm];\n            } else {\n                let id = detail[fnm]['_id'];\n                if (typeof id !== 'string') delete detail[fnm];\n                else detail[fnm] = id;\n            }\n        }\n        return detail;\n    }\n    \n    protected clearFieldReference(field:any ):any {\n        for (let prop in field) {\n            field[prop] = undefined;\n        }\n        return field;\n    }\n\n    protected isDefinedFieldReference(field:any ):any {\n        if ('_id' in field && typeof field['_id'] == 'string') return true;\n        return false;\n    }\n    /***Start: handle date fields***/    \n    protected formatDateField(field:string):any {\n        let fmt = this.dateFormat;\n        let t_fmt = this.timeFormat;\n        let d, M, yyyy, h, m, s;\n\n        let dt = new Date(field);\n        \n        let dd, MM, hh, mm, ss;\n        d = dt.getDate();\n        M = dt.getMonth()+1; \n        yyyy = dt.getFullYear();\n        \n        let yy = yyyy.toString().slice(2);\n        h = dt.getHours();\n        m = dt.getMinutes();\n        s = dt.getSeconds();\n        \n        dd= d<10? '0'+d: d.toString();\n        MM= M<10? '0'+M: M.toString();\n        hh= h<10? '0'+h: h.toString();\n        mm= m<10? '0'+m: m.toString();\n        ss= s<10? '0'+s: s.toString();\n        \n        let value = fmt.replace(/yyyy/ig, yyyy.toString()).\n                       replace(/yy/ig, yy.toString()).\n                       replace(/MM/g, MM.toString()).\n                       replace(/dd/ig, dd.toString());\n      \n        let t_value = t_fmt.replace(/hh/ig, hh.toString()).\n                       replace(/mm/g, mm.toString()).\n                       replace(/ss/ig, ss.toString());\n        /*Datepicker uses NgbDateStruct as a model and not the native Date object. \n        It's a simple data structure with 3 fields. Also note that months start with 1 (as in ISO 8601).\n        \n        we add h, m, s here\n        */\n        //\"from\" and \"to\" used for search context. pop: show the selection popup\n        return {'date':{ day: d, month: M, year: yyyy}, 'value': value, 'from': undefined, 'to': undefined, 'pop':false,\n                'time':{ hour: h, minute: m, second: s}, 't_value': value, 't_from': undefined, 't_to': undefined, 't_pop':false}\n\n    }\n    \n    protected formatDate(detail:any ):any {\n        for (let fnm of this.dateFields) {\n            let value, date;\n            if (typeof detail[fnm] !== 'string') { //not defined\n                //important: let date values undefined. \"from\" and \"to\" used for search context. pop: show the selection popup\n                detail[fnm] = {'date':undefined, 'value': undefined, 'from': undefined, 'to': undefined, 'pop':false};\n            }\n            else {\n                detail[fnm] = this.formatDateField(detail[fnm]);\n            }\n        }\n        return detail;\n    }\n    \n    protected deFormatDateField(date:any):string {\n        let d, M, yyyy, h, m, s;\n        \n        yyyy = date.year;\n        M = date.month - 1;\n        d = date.day;\n        \n        if (typeof yyyy !== 'number' || typeof M !== 'number' || typeof d !== 'number') return null;\n        else {\n            let dt = new Date(yyyy, M, d, 0, 0, 0, 0);\n            return dt.toISOString();\n        }\n    }\n    \n    protected deFormatDate(detail:any ):any {\n        for (let fnm of this.dateFields) {\n            let value;\n            if (typeof detail[fnm] !== 'object') { //not defined\n                //let date values undefined\n                delete detail[fnm];\n            }\n            else {\n                if (! detail[fnm].date) delete detail[fnm];\n                else {\n                    let dateStr = this.deFormatDateField(detail[fnm].date);\n                    if (!dateStr) delete detail[fnm];\n                    else detail[fnm] = dateStr;\n                }\n            }\n        }\n        return detail;\n    }\n    protected clearFieldDate(field:any ):any {\n        for (let prop in field) {\n            field[prop] = undefined;\n        }\n        return field;\n    }\n    protected isDefinedFieldDate(field:any ):any {\n        if (typeof field === 'object') {\n                if (typeof field['date'] == 'object') return true;\n                if (typeof field['from'] == 'object') return true;\n                if (typeof field['to'] == 'object') return true;\n        }\n        return false;\n    }\n\n    /***Start: handle array of multi-selection fields***/\n    protected formatArrayMultiSelectionField(field: any, enums: any): any {\n        let selectObj = {};\n        let value = \"\";\n        for (let e of enums) {\n            selectObj[e] = false; //not exist\n        }\n        if (Array.isArray(field)) { //not defined\n            for (let e of field) {\n                selectObj[e] = true;  //exist.\n            }\n            value = field.join(\" | \")\n        }\n        return {'selection': selectObj, value: value};\n\n    }\n    protected formatArrayMultiSelection(detail:any ):any {\n        for (let fnm of this.multiSelectionFields) {\n            detail[fnm] = this.formatArrayMultiSelectionField(detail[fnm], this.enums[fnm]);\n        }\n        return detail;\n    }\n    \n    protected deFormatArrayMultiSelection(detail:any ):any {\n        for (let fnm of this.multiSelectionFields) {\n            if (typeof detail[fnm] !== 'object') { //not defined\n                delete detail[fnm];\n            }\n            else {\n                if (! detail[fnm].selection) delete detail[fnm];\n                else {\n                    let selectArray = [];\n                    for (let e of this.enums[fnm]) {\n                        if (detail[fnm].selection[e]) selectArray.push(e);\n                    }\n\n                    if (selectArray.length > 0) detail[fnm] = selectArray;\n                    else delete detail[fnm];\n                }\n            }\n        }\n        return detail;\n    }\n    protected clearFieldArrayMultiSelection(field:any ):any {\n        if (!field['selection']) return field;\n        for (let prop in field['selection']) {\n            field['selection'][prop] = false; //not exist\n        }\n        return field;\n    }\n\n    protected isDefinedFieldArrayMultiSelection(field:any ):any {\n        if ('selection' in field && typeof field['selection'] == 'object') {\n            let keys = Object.keys(field['selection']);\n            return keys.some(e=>{return field['selection'][e]});\n        }\n        return false;\n    }\n    protected multiselectionSelected(fieldName) {\n        if (!this.detail[fieldName] || typeof this.detail[fieldName]['selection'] != 'object') {\n            return false;\n        }\n        return this.isDefinedFieldArrayMultiSelection(this.detail[fieldName]);\n    }\n    /***End: handle array of multi-selection fields***/\n    /***Start: handle map fields***/\n    protected formatMapField(field: any, elementType: string): any {\n        let selectObj = {};\n        let values = [];\n        if (typeof field == 'object') {\n            selectObj = field;\n            for (let e in field) {\n              if (elementType === 'SchemaString') {\n                values.push(e + \"(\" + field[e] + \")\");\n              }\n            }\n        }\n        values = values.filter(x=>!!x);\n        let value = values.join(\" | \")\n        return {'selection': selectObj, value: value, keys: []};\n\n    }\n    protected formatMapFields(detail:any ):any {\n        for (let f of this.mapFields) {\n            //[fieldName, elementType]\n            detail[f[0]] = this.formatMapField(detail[f[0]], f[1]);\n        }\n        return detail;\n    }\n\n    protected deFormatMapFields(detail:any ):any {\n        for (let f of this.mapFields) {\n            //[fieldName, elementType]\n            let fnm = f[0];\n            let elementType = f[1];\n          \n            if (typeof detail[fnm] !== 'object') { //not defined\n                delete detail[fnm];\n            }\n            else {\n                if (! detail[fnm].selection) delete detail[fnm];\n                else {\n                    let selectMap = detail[fnm].selection;\n                    for (let e in detail[fnm].selection) {\n                      if (elementType === 'SchemaString') {\n                        ;\n                      }\n                    }\n\n                    if (Object.keys(selectMap).length > 0) detail[fnm] = selectMap;\n                    else delete detail[fnm];\n                }\n            }\n        }\n        return detail;\n    }\n\n    protected clearFieldMap(field:any ):any {\n        if (!field['selection']) return field;\n        field['selection'] = {};\n        field.value = undefined;\n        return field;\n    }\n\n    protected isDefinedFieldMap(field:any ):any {\n        if ('selection' in field && typeof field['selection'] == 'object') {\n            return Object.keys(field['selection']).length > 0;\n        }\n        return false;\n    }\n    protected mapSelected(fieldName) {\n        if (!this.detail[fieldName] || typeof this.detail[fieldName]['selection'] != 'object') {\n            return false;\n        }\n        return this.isDefinedFieldMap(this.detail[fieldName]);\n    }\n    /***End: handle map fields***/\n    /***Start: handle array fields***/\n    protected formatArrayField(field: any, elementType: string): any {\n        let selectArray = [];\n        let values = [];\n        if (Array.isArray(field)) { //not defined\n            for (let e of field) {\n              if (elementType === 'ObjectId') {\n                let ref = this.formatReferenceField(e, \"...\");\n                selectArray.push(ref);\n                values.push(ref.value);\n              } else if (elementType === 'SchemaString') {\n                selectArray.push(e);\n                values.push(e);\n              }\n            }\n        }\n        values = values.filter(x=>!!x);\n        let value = values.join(\" | \")\n        return {'selection': selectArray, value: value};\n\n    }\n    protected formatArrayFields(detail:any ):any {\n        for (let f of this.arrayFields) {\n            //[fieldName, elementType]\n            detail[f[0]] = this.formatArrayField(detail[f[0]], f[1]);\n        }\n        return detail;\n    }\n\n    protected deFormatArrayFields(detail:any ):any {\n        for (let f of this.arrayFields) {\n            //[fieldName, elementType]\n            let fnm = f[0];\n            let elementType = f[1];\n          \n            if (typeof detail[fnm] !== 'object') { //not defined\n                delete detail[fnm];\n            }\n            else {\n                if (! detail[fnm].selection) delete detail[fnm];\n                else {\n                    let selectArray = [];\n                    for (let e of detail[fnm].selection) {\n                      if (elementType === 'ObjectId') {\n                        if (e && e['_id'] && typeof e['_id'] === 'string') selectArray.push(e['_id']);\n                      } else if (elementType === 'SchemaString') {\n                        if (e) selectArray.push(e);\n                      }\n                    }\n\n                    if (selectArray.length > 0) detail[fnm] = selectArray;\n                    else delete detail[fnm];\n                }\n            }\n        }\n        return detail;\n    }\n\n    protected clearFieldArray(field:any ):any {\n        if (!field['selection']) return field;\n        field['selection'] = [];\n        field.value = undefined;\n        return field;\n    }\n\n    protected isDefinedFieldArray(field:any ):any {\n        if ('selection' in field && Array.isArray(field['selection'])) {\n            return field['selection'].length > 0;\n        }\n        return false;\n    }\n    protected arraySelected(fieldName) {\n        if (!this.detail[fieldName] || !Array.isArray(this.detail[fieldName]['selection'])) {\n            return false;\n        }\n        return this.isDefinedFieldArray(this.detail[fieldName]);\n    }\n    /***End: handle array fields***/\n  \n    protected formatDetail(detail:any ):any {\n        detail = this.formatReference(detail);\n        detail = this.formatDate(detail);\n        detail = this.formatArrayMultiSelection(detail);\n        detail = this.formatArrayFields(detail);\n        detail = this.formatMapFields(detail);\n        return detail;\n    }    \n    \n    protected deFormatDetail(detail:any ):any {\n        let cpy = Util.clone(detail);\n        \n        cpy = this.deFormatReference(cpy);\n        cpy = this.deFormatDate(cpy);\n        cpy = this.deFormatArrayMultiSelection(cpy);\n        cpy = this.deFormatArrayFields(cpy);\n        cpy = this.deFormatMapFields(cpy);\n        return cpy;\n    }\n    \n    protected populateDetail(id: string):EventEmitter<any> {\n      return this.populateDetailForAction(id, null);\n    }\n\n    protected populateDetailForAction(id: string, action: string):EventEmitter<any> {\n      //action: eg: action=edit  -> get detail for editing purpose \n      this.service.getDetailForAction(id, action).subscribe(\n        detail => {\n            let originalDetail = Util.clone(detail);\n            if (detail[\"_id\"]) this.commonService.putToStorage(detail[\"_id\"], originalDetail);//cache it\n            \n            this.detail = this.formatDetail(detail);\n            this.extraFieldsUnload();//unload data to text editors, etc\n            if (action == 'edit') {\n              this.extraInfoPopulate();//collect other info required for edit view\n            }\n            if (this.refreshing) {\n              this.refreshing = false;\n              let snackBarConfig: SnackBarConfig = {\n                  content: \"Detail refreshed\"\n              }\n              let snackBar = new SnackBar(snackBarConfig);\n              snackBar.show();\n            }\n            this.eventEmitter.emit(this.detail);\n        },\n        this.onServiceError\n      );\n      return this.eventEmitter;\n    }\n    \n\n    protected populateDetailFromCopy(copy_id:string):void {\n      this.service.getDetail(copy_id).subscribe(\n        detail => {            \n            this.detail = this.formatDetail(detail);\n            delete this.detail[\"_id\"];\n            this.extraFieldsUnload();//unload data to text editors, etc\n            this.extraInfoPopulate();//collect other info required for create view\n        },\n        this.onServiceError\n      );\n    }\n\n    protected extraInfoPopulate() {\n        for (let fieldDef of this.mapFields) { \n          //fieldDef: [field.fieldName, field.elementType, keyType, keyRefName, keyRefService, keyRefSubField]\n          let fieldName = fieldDef[0]; //this.<keyRefName>.<keyRefSubField>\n          let mapKeyType = fieldDef[2]; //this.<keyRefName>.<keyRefSubField>\n          let keyArray = [];\n          if (mapKeyType == \"ObjectId\") {\n            let keyRefName = fieldDef[3];\n            let recordKey = 'key-id-' + keyRefName;\n            let refService = this.injector.get(fieldDef[4]);\n            let id = this.detail[keyRefName]?this.detail[keyRefName]['_id'] : undefined;\n            if (!id) continue;\n            let mapField = this.detail[fieldName];\n            if (mapField[recordKey] == id) continue; //already populated for the same id\n            \n            refService.getDetail(id).subscribe(\n              detail => {\n                if (Array.isArray(detail[fieldDef[5]])) {\n                  keyArray = detail[fieldDef[5]];\n                  mapField['keys'] = keyArray;\n                  mapField[recordKey] = id; //record that keys is populated from this object\n                  if (mapField['selection']) {\n                    for (let k of keyArray) {\n                      if (!(k in mapField['selection'])) mapField['selection'][k] = \"\";\n                    }\n                  }\n                }\n              },\n              this.onServiceError\n            );\n          }          \n        }\n    }\n  \n    private equalTwoSearchContextArrays (arr1, arr2) {\n      if (!arr1) arr1 = [];\n      if (!arr2) arr2 = [];\n      if (arr1.length == 0 && arr2.length == 0) return true;\n      //all object in array has format of {'field': 'value'} format\n      function compareObj(a, b) {\n          let a_s = JSON.stringify(a), b_s = JSON.stringify(b)\n          if (a_s < b_s)\n              return -1;\n          if (a_s > b_s)\n              return 1;\n          return 0;\n      }\n      arr1 = arr1.sort(compareObj);\n      arr2 = arr2.sort(compareObj);\n      if (JSON.stringify(arr1) == JSON.stringify(arr2)) return true;\n      return false;\n    }\n\n    protected processSearchContext() {\n        this.moreSearchOpened = false;\n        let d = this.detail;\n        for (let s of this.stringFields) {\n            d[s] = this.searchText;\n        }\n        let orSearchContext = [], andSearchContext = [];\n        for (let field in d) {\n            if (typeof d[field] == 'string') {\n                let o = {}\n                o[field] = d[field];\n                orSearchContext.push(o);\n            }\n        }\n        \n        this.searchMoreDetail = []\n        let d2 = this.deFormatDetail(d);//undefined field is deleted after this step\n        for (let field in d2) {\n            if (this.stringFields.indexOf(field) == -1) {//string fields already put to orSearchContext\n                let o = {}\n                let valueToShow;\n\n                o[field] = d2[field];\n\n                if (this.multiSelectionFields.includes(field)) {\n                    o[field] = {$in: d2[field]}; //use $in for or, and $all for and\n\n                    let t = this.formatArrayMultiSelectionField(d2[field], this.enums[field]);\n                    valueToShow = t.value;\n                } else if (this.arrayFields.some(x=>x[0] == field)) {                  \n                    o[field] = {$in: d2[field]}; //use $in for or, and $all for and\n                  \n                    valueToShow = d[field]['value'];\n                } else if (this.dateFields.includes(field)) {\n                    let t = this.formatDateField(d2[field]);\n                    valueToShow = t.value;\n                } else if (this.referenceFields.includes(field)) {\n                    valueToShow = valueToShow = d[field]['value'];\n                } else {\n                    valueToShow = d[field];//take directoy from what we get \n                }\n\n                this.searchMoreDetail.push([field, valueToShow]);\n                andSearchContext.push(o);\n            }\n        }\n        //Handle date range selection. These fields are not in d2, because field.date is undefined.\n        for (let prop of this.dateFields) {\n            let o = {};\n            let valueToShow = \"\";\n            \n            o[prop] = {};\n            if (typeof d[prop] !== 'object') { //not defined\n                continue;\n            }\n            if (!d[prop]['from'] && !d[prop]['to']) { //not range\n                continue;\n            }\n            if (d[prop]['from']) {\n                o[prop]['from'] = this.deFormatDateField(d[prop]['from']);\n                valueToShow += this.formatDateField(o[prop]['from']).value;\n            }\n            valueToShow += \" ~ \";\n            if (d[prop]['to']) {\n                o[prop]['to'] = this.deFormatDateField(d[prop]['to']);\n                valueToShow += this.formatDateField(o[prop]['to']).value;\n            }\n            this.searchMoreDetail.push([prop, valueToShow]);\n            andSearchContext.push(o);\n        }\n\n        let searchContext = {'$and': [{'$or': orSearchContext},{'$and': andSearchContext}]};\n        /* searchContext ={'$and', [{'$or', []},{'$and', []}]}\n        */\n        let context = this.getFromStorage(\"searchContext\");\n        if (context && context[\"$and\"]) {\n            let cachedOr, cachedAnd;\n            for (let sub of context[\"$and\"]) {\n                if ('$and' in sub) cachedAnd = sub['$and'];\n                else if ('$or' in sub) cachedOr = sub['$or'];\n            }\n            if (this.equalTwoSearchContextArrays(cachedOr, orSearchContext) \n                && this.equalTwoSearchContextArrays(cachedAnd, andSearchContext)) {\n                return;\n            }\n        } \n        \n        if (orSearchContext.length == 0 && andSearchContext.length == 0) searchContext = null;\n        this.putToStorage(\"searchContext\", searchContext);\n        this.putToStorage(\"searchText\", this.searchText);\n        this.putToStorage(\"page\", 1);//start from 1st page\n        this.putToStorage(\"searchMoreDetail\", this.searchMoreDetail);\n        this.putToStorage(\"detail\", this.detail);\n    }\n    protected searchList():void {\n        this.processSearchContext();\n        //update the URL\n        this.router.navigate(['.', {}], {relativeTo: this.route});//start from 1st page\n        this.putToStorage(\"page\", 1);//start from 1st page\n        this.populateList();\n    }\n    protected loadUIFromCache():void {\n        //Now let's reload the search condition to UI\n        this.searchText = this.getFromStorage(\"searchText\");\n        this.searchMoreDetail = this.getFromStorage(\"searchMoreDetail\");\n        let detail = this.getFromStorage(\"detail\");\n        if (detail) this.detail = detail;\n    }\n    \n    protected populateList():EventEmitter<any> {\n        //First let's handle page\n        let new_page;\n        let searchContext, searchText;\n\n        let url_page = parseInt(this.route.snapshot.paramMap.get('page'));\n        let cached_page = parseInt(this.getFromStorage(\"page\"));\n            \n        if (cached_page) { \n            new_page = cached_page;\n            if (cached_page == 1)\n                this.router.navigate(['.', {}], {relativeTo: this.route, });//update the url\n            else\n                this.router.navigate(['.', {page: cached_page}], {relativeTo: this.route, });//update the url\n        }\n        else if (url_page) new_page = url_page;\n        else new_page = 1;\n\n        searchContext = this.getFromStorage(\"searchContext\");\n        this.loadUIFromCache();      \n\n        this.service.getList(new_page, this.per_page, searchContext).subscribe(\n          result => { \n            this.list = result.items.map(x=>this.formatDetail(x));\n            this.page = result.page;\n            this.per_page = result.per_page;\n            this.total_count = result.total_count;\n            this.total_pages = result.total_pages;\n            this.populatePages();\n            \n            this.checkedItem = \n                Array.apply(null, Array(this.list.length)).map(Boolean.prototype.valueOf,false);\n            this.checkAll = false;\n            \n            if (this.refreshing) {\n              this.refreshing = false;\n              let snackBarConfig: SnackBarConfig = {\n                  content: \"List refreshed\"\n              }\n              let snackBar = new SnackBar(snackBarConfig);\n              snackBar.show();\n            }\n            this.eventEmitter.emit(this.list);\n          },\n          this.onServiceError\n        );\n      return this.eventEmitter;\n    }\n    \n    \n    /*UI operations handlers*/\n    public onRefresh():void {\n        if (this.view == ViewType.LIST) {\n          this.refreshing = true;\n          this.populateList();\n        } else if (this.view == ViewType.DETAIL) {\n          this.refreshing = true;\n          if (!this.id) this.id = this.route.snapshot.paramMap.get('id');\n          if (this.id) this.populateDetail(this.id);\n          else console.error(\"Routing error for detail view... no id...\");\n        }\n    }\n    \n    public onCheckAllChange():void {\n        this.checkedItem = \n             Array.apply(null, Array(this.list.length)).\n                map(Boolean.prototype.valueOf,this.checkAll);\n    }\n    \n    public isItemSelected():boolean {\n        return this.checkedItem.some((value)=>{return value;})\n    }\n\n    public onDeleteSelected():void {\n        let deletedItem = [];\n        this.checkedItem.forEach((value, index) => {\n                if (value) {\n                    deletedItem.push(this.list[index][\"_id\"]);\n                }\n            });\n        \n        let modalConfig: ModalConfig = {\n        title: \"Delete Confirmation\",\n        content: \"Are you sure you want to delete selected items from the system?\",\n        //list of button text\n        buttons: ['Delete', 'Cancel'],\n        //list of button returns when clicked\n        returns: [true, false],\n        callBack: (result) => {\n            if (result) {\n                this.service.deleteManyByIds(deletedItem).subscribe(\n                    result => {\n                        let snackBarConfig: SnackBarConfig = {\n                            content: this.ItemCamelName + \" deleted\"\n                        }\n                        let snackBar = new SnackBar(snackBarConfig);\n                        snackBar.show();\n\n                        if (this.view != ViewType.LIST)\n                            this.router.navigate(['../../list'], {relativeTo: this.route});\n                        else {\n                            let len = this.checkedItem.length;\n                            for (let i = 0; i < len; i++ ) {\n                                let idx = len - 1 - i;\n                                let value = this.checkedItem[idx];\n                                if (value) {\n                                    this.list.splice(idx, 1);\n                                    this.checkedItem.splice(idx,1);\n                                    this.total_count -= 1;\n                                }\n                            };\n                        }\n                    },\n                    this.onServiceError\n                );\n            }\n          }\n        }\n      let modal = new Modal(modalConfig);\n      modal.show();\n    }\n    \n    public onDelete(id:string, idx: number):void {      \n      let modalConfig: ModalConfig = {\n        title: \"Delete Confirmation\",\n        content: \"Are you sure you want to delete this \" + this.itemCamelName + \" from the system?\",\n        //list of button text\n        buttons: ['Delete', 'Cancel'],\n        //list of button returns when clicked\n        returns: [true, false],\n        callBack: (result) => {\n            if (result) {\n                this.service.deleteOne(id).subscribe(\n                    result => {\n                        let snackBarConfig: SnackBarConfig = {\n                            content: this.ItemCamelName + \" deleted\"\n                        }\n                        let snackBar = new SnackBar(snackBarConfig);\n                        snackBar.show();\n\n                        if (this.view != ViewType.LIST)\n                            this.router.navigate(['../../list'], {relativeTo: this.route});\n                        else if (idx!=null && this.list) {\n                                this.list.splice(idx, 1);\n                                this.checkedItem.splice(idx,1);\n                                this.total_count -= 1;\n                            }\n                    },\n                    this.onServiceError\n                );\n            }\n        }\n      }\n      \n      let modal = new Modal(modalConfig);\n      modal.show();\n    }\n    \n    public onSubmit():void {\n      if (!this.extraFieldsLoad()) return; //error from other non ngModel fields;\n        \n      this._detail = this.deFormatDetail(this.detail);\n      if (this.id) {\n          this.service.updateOne(this.id, this._detail).subscribe(\n            result => {\n                var snackBarConfig: SnackBarConfig = {\n                    content: this.ItemCamelName + \" updated.\"\n                }\n                var snackBar = new SnackBar(snackBarConfig);\n                snackBar.show();\n                \n                this.router.navigate(['../../detail', this.id], {relativeTo: this.route});\n            },\n            this.onServiceError\n          );\n      }\n      else {\n          this.service.createOne(this._detail).subscribe(\n            result => {\n                let action = this.subEdit? \" added\":\" created.\";\n\n                var snackBarConfig: SnackBarConfig = {\n                    content: this.ItemCamelName + action\n                }\n                var snackBar = new SnackBar(snackBarConfig);\n                snackBar.show();\n                \n                this.id = result[\"_id\"];\n                this._detail = result;\n\n                if (this.subEdit) {\n                    this.done.emit(true);\n                } else {\n                    this.router.navigate(['../detail', this.id], {relativeTo: this.route});\n                } \n            },\n            this.onServiceError\n          );\n      }\n    }\n    \n    public editCancel(): void {\n        if (this.subEdit) {\n            this.done.emit(false);\n        } else {\n            this.goBack();\n        } \n    }\n\n    protected clickedId = null;\n    public onDisplayRefClicked(fn:string, detail:any, event:any):void {\n        let ref = this.getRefFromField(fn);\n        let d = detail;\n        \n        if (d && d['_id']) {\n            if (this.list) {\n                for (let item of this.list){\n                    if (item[fn] == d) this.clickedId = item['_id'];\n                }\n            }\n            this.router.navigate([ref, 'detail', d['_id']], {relativeTo: this.getParentActivatedRouter() });\n        }\n        if (event) event.stopPropagation();\n    }\n\n    public onDetailLinkClicked(id:string):void {\n        this.clickedId = id; \n        this.router.navigate([this.itemName, 'detail', id], {relativeTo: this.getParentActivatedRouter() });\n    }\n    \n    protected getRefFromField(fn:string):string {\n        return this.referenceFieldsMap[fn];\n    }\n\n    public clearValueFromDetail(field:string):void {\n        if (!this.detail.hasOwnProperty(field)) return;\n        if (typeof this.detail[field] == 'undefined') return;\n        if (typeof this.detail[field] == 'object') {//reference field or date\n            if (this.multiSelectionFields.includes(field)) {\n                this.detail[field] = this.clearFieldArrayMultiSelection(this.detail[field]);\n            } else if (this.arrayFields.some(x=>x[0] == field)) {\n                this.detail[field] = this.clearFieldArray(this.detail[field]);\n            } else if (this.mapFields.some(x=>x[0] == field)) {\n                this.detail[field] = this.clearFieldMap(this.detail[field]);\n            } else if (this.dateFields.includes(field)) {\n                this.detail[field] = this.clearFieldDate(this.detail[field]);\n            } else if (this.referenceFields.includes(field)) {\n                this.detail[field] = this.clearFieldReference(this.detail[field]);\n            }\n            //check if any info needs to change after clear certain values;\n            this.extraInfoPopulate();\n        } else {\n            delete this.detail[field];\n        }\n    }\n    public clearValueFromArrayField(field: string, idx: number):void {\n        if (this.detail[field]['selection']) {\n            this.detail[field]['selection'] = this.detail[field]['selection'].filter((x,i)=> i != idx );\n            //check if any info needs to change after clear certain values;\n            this.extraInfoPopulate();\n        }\n    }\n    public clearValueFromMapField(field: string, key: string):void {\n        if (this.detail[field]['selection']) {\n            delete this.detail[field]['selection'][key];\n            //check if any info needs to change after clear certain values;\n            this.extraInfoPopulate();\n        }\n    }\n    public clearValueFromMapKey(field: string, key: string):void {\n        if (this.detail[field]['selection']) {\n            this.detail[field]['selection'][key] = undefined;\n            //check if any info needs to change after clear certain values;\n            this.extraInfoPopulate();\n        }\n    }\n  \n    public checkValueDefinedFromDetail(field:string):boolean {\n        let d = this.detail;\n        if (!d.hasOwnProperty(field)) return false;\n        if (typeof d[field] == 'undefined') return false;\n        if (typeof this.detail[field] == 'number' \n            || typeof d[field] == 'string'\n            || typeof d[field] == 'boolean') return true;\n        if (typeof d[field] == 'object') {\n            if (this.multiSelectionFields.includes(field)) {\n                return this.isDefinedFieldArrayMultiSelection(d[field]);\n            } else if (this.arrayFields.some(x=>x[0] == field)) {\n                return this.isDefinedFieldArray(d[field]);\n            } else if (this.mapFields.some(x=>x[0] == field)) {\n                return this.isDefinedFieldMap(d[field]);\n            } else if (this.dateFields.includes(field)) {\n                return this.isDefinedFieldDate(d[field]);\n            } else if (this.referenceFields.includes(field)) {\n                return this.isDefinedFieldReference(d[field]);\n            }\n        }\n        return false;\n    }\n\n    public clearValueFromDetailAndSearchList(field:string):void {\n        this.clearValueFromDetail(field);\n        this.searchList();\n    }\n    \n    public onAddArrayItem(fieldName:string) {\n        if (this.arrayFields.some(x=>x[0] == fieldName)) {\n          if (this.detail[fieldName]['new']) { //where new added item is stored\n            let item = this.detail[fieldName]['new'];\n            this.detail[fieldName]['new'] = undefined; //clear it\n            \n            this.detail[fieldName]['selection'].push(item);\n          \n            let values = [];\n            if (this.detail[fieldName]['value']) values = this.detail[fieldName]['value'].split(' | ')\n            values.push(item); //display value\n            values = values.filter(x=>!!x);\n            this.detail[fieldName]['value'] = values.join(' | ');\n            \n            //see if related info needs to change after the change of this value\n            this.extraInfoPopulate();\n          }\n        }                    \n    }\n    public onAddMapItem(fieldName:string) {\n        if (this.mapFields.some(x=>x[0] == fieldName)) {\n          if (this.detail[fieldName]['new']) { //where new added item is stored\n            let item = this.detail[fieldName]['new'];\n            this.detail[fieldName]['new'] = undefined; //clear it\n            \n            this.detail[fieldName]['selection'][item] = undefined; //move to selection object\n            \n            //TODO: this.detail[fieldName]['value'] change\n            \n            //see if related info needs to change after the change of this value\n            this.extraInfoPopulate();\n          }\n        }                    \n    }\n    //**** For parent component of modal UI\n    protected refSelectDirective:any;\n    protected selectComponents:any; //{fieldName: component-type} format\n    protected componentFactoryResolver: any; //injected by extended class, if needed.\n    private componentSubscription\n    public onRefSelect(fieldName:string) {\n        if (!this.refSelectDirective) {\n          console.warn(\"No reference directive for field: \", fieldName);\n          return;\n        }\n        let viewContainerRef = this.refSelectDirective.viewContainerRef;\n        viewContainerRef.clear();\n        \n        if (!this.selectComponents[fieldName]) {\n          console.warn(\"No reference defined for field: \", fieldName);\n          return;\n        }\n        let componentRef = this.selectComponents[fieldName][\"componentRef\"];\n        if (!componentRef) {\n            let comType = this.selectComponents[fieldName][\"select-type\"]\n            if (!comType) console.warn(\"No component type found for reference field \", fieldName);\n\n            let componentFactory = this.componentFactoryResolver.resolveComponentFactory(comType);\n            componentRef = viewContainerRef.createComponent(componentFactory);//create and insert in one call\n            this.selectComponents[fieldName][\"componentRef\"] = componentRef;//save it\n        } else {\n            viewContainerRef.insert(componentRef.hostView);\n        }\n        \n        let componentInstance = <BaseComponentInterface>componentRef.instance;\n        if (this.detail[fieldName]) {\n            if (this.referenceFields.includes(fieldName)) {\n                componentInstance.inputData = this.detail[fieldName]['_id'];\n            }            \n        }\n        componentInstance.setFocus();\n        \n \n        this.componentSubscription = componentInstance.done.subscribe( (val) => {\n            if (val) {\n                this.componentSubscription.unsubscribe();\n                viewContainerRef.detach(); //only detach. not destroy\n            }\n            let outputData = componentInstance.outputData;\n            if (outputData) {\n                switch (outputData.action){\n                    case \"selected\":\n                        if (this.arrayFields.some(x=>x[0] == fieldName)) {\n                            this.detail[fieldName]['selection'].push( outputData.value);\n                          \n                            let values = [];\n                            if (this.detail[fieldName]['value']) values = this.detail[fieldName]['value'].split(' | ')\n                            values.push(outputData.value.value); //display value\n                            values = values.filter(x=>!!x);\n                            this.detail[fieldName]['value'] = values.join(' | ');\n                        } else if (this.referenceFields.includes(fieldName)) {\n                            this.detail[fieldName] = outputData.value;\n                        }                    \n                        //trigger extraInfo populate, once reference changed.\n                        this.extraInfoPopulate();\n                        break;\n                    case \"view\":\n                        this.onRefShow(fieldName, \"select\", outputData.value);//value is _id\n                        break;\n                    default:\n                        break;\n                }                \n            }\n        });\n    }\n    \n    public onRefShow(fieldName:string, action:string, id:string) {\n        if (!id && this.detail[fieldName]) id = this.detail[fieldName]['_id'];\n        if (!id) {\n          console.error('Show reference but no id is given.');\n          return;\n        }\n        let viewContainerRef = this.refSelectDirective.viewContainerRef;\n        viewContainerRef.clear();\n        \n        let detailType = action + \"-detail-type\"; //eg: select-detail-type, pop-detail-type\n        let comType = this.selectComponents[fieldName][detailType]\n        if (!comType) {\n          console.error(\"No component type found for: %s\", detailType);\n          return;\n        }\n        let componentFactory = this.componentFactoryResolver.resolveComponentFactory(comType);\n        let componentRef = viewContainerRef.createComponent(componentFactory);//create and insert in one call\n\n        let componentInstance = <BaseComponentInterface>componentRef.instance;\n        componentInstance.inputData = id;\n        componentInstance.setFocus();\n       \n        componentInstance.done.subscribe( (val) => {\n           if (val) {\n               componentInstance.done.unsubscribe();\n               viewContainerRef.clear();\n           }\n           let outputData = componentInstance.outputData;\n            if (outputData) {\n                switch (outputData.action){\n                    case \"selected\":\n                        if (this.arrayFields.some(x=>x[0] == fieldName)) {\n                            this.detail[fieldName]['selection'].push( outputData.value);\n                          \n                            let values = [];\n                            if (this.detail[fieldName]['value']) values = this.detail[fieldName]['value'].split(' | ')\n                            values.push(outputData.value.value); //display value\n                            values = values.filter(x=>!!x);\n                            this.detail[fieldName]['value'] = values.join(' | ');\n                        } else if (this.referenceFields.includes(fieldName)) {\n                            this.detail[fieldName] = outputData.value;\n                        }                    \n                        //trigger extraInfo populate, once reference changed.\n                        this.extraInfoPopulate();\n                        break;\n                    case \"back\":\n                        this.onRefSelect(fieldName);\n                        break;\n                    default:\n                        break;\n                }                \n            }\n        });\n    }\n    \n    //Following havn't been used yet\n    /*\n    private typingTimer;\n    public onKeyUp(fieldName:string, value:string):void {\n        clearTimeout(this.typingTimer);\n    \n        this.typingTimer = setTimeout(function () {\n            console.log('Input Value:', value);\n        }, 1000);\n    }\n    */\n    //**** For child component of modal UI\n    public inputData;\n    public outputData;\n    public done:any;\n    protected focusEl; //ElementRef\n    setFocus() {\n        if (this.focusEl)\n            this.focusEl.nativeElement.focus();\n    }\n    uiCloseModal() {\n        this.outputData = null;\n        this.done.emit(true);\n    }\n    uiOnEscapeKey() {\n        this.uiCloseModal();\n    }\n\n    protected selectedId = null;\n    selectItemSelected(num:number) {\n        let detail = this.list[num];\n        this.selectedId = detail['_id'];\n        this.clickedId = detail['_id'];\n        this.outputData = {action: \"selected\", \n                            value: {\"_id\": detail[\"_id\"], \"value\": this.stringify(detail)},\n                            detail: detail\n                          };\n        this.done.emit(true);\n    }\n    \n    detailSelSelected() {\n        let detail = this.detail;\n        this.outputData = {action: \"selected\", \n                            value: {\"_id\": detail[\"_id\"], \"value\": this.stringify(detail)},\n                            detail: detail\n                          };\n        this.done.emit(true);\n    }\n\n    selectViewDetail(num:number) {\n        let detail = this.list[num];\n        this.clickedId = detail['_id'];\n        this.outputData = {action: \"view\", \n                            value: detail[\"_id\"]\n                          };\n        this.done.emit(true);\n    }\n    \n    detailSelBack() {\n        this.outputData = {action: \"back\", \n                            value: null\n                          };\n        this.done.emit(true);\n    }\n    \n    //Search more in the list view\n    protected searchText: string;\n    protected searchMoreDetail: any;\n    public moreSearchOpened:boolean = false;\n    toggleMoreSearch() {\n        this.moreSearchOpened = !this.moreSearchOpened;\n    }    \n    onSearchTextClear():void {\n      this.searchText = undefined;\n      if (!this.moreSearchOpened) this.searchList();\n    }\n    onSearchClear() {\n        this.searchText = undefined;\n        let detail = {};\n        this.detail = this.formatDetail(detail);\n        this.searchList();\n    }\n    \n    /* This is for editor related */\n    protected textEditors:any; //type of QueryList<T>\n    protected textEditorMap:any = {};\n    \n    protected extraFieldsUnload() {//from server\n        if (this.textEditors) {\n            this.textEditors.forEach(editor=>{\n                \n                let fieldName = editor.name;\n                let validatorObj = this.textEditorMap[fieldName];\n                if (!validatorObj) return;\n                \n                let content = this.detail[validatorObj.fieldName]\n                if (content) editor.setContent(content);\n            });\n        }\n    }\n        \n    protected extraFieldsLoad() {//to server\n        let result = true;\n        if (this.textEditors) {\n            let array = this.textEditors.toArray();\n            for (let editor of array) {\n                let fieldName = editor.name;\n                let [content,text] = editor.getContent();\n                let validatorObj = this.textEditorMap[fieldName];\n                if (!validatorObj) continue;\n                \n                let fieldState = validatorObj.fieldState;\n                fieldState.errors = {};\n                if (!content) {\n                    if (validatorObj.required) {\n                        fieldState.errors.required = true;\n                        fieldState.valid = false;\n                        result = false;\n                    }\n                    continue;\n                }\n                if ('minlength' in validatorObj && text.length < validatorObj.minlength) {\n                    fieldState.valid = false;\n                    fieldState.errors.minlength = true;\n                    result = false;\n                    continue;\n                }\n                if ('maxlength' in validatorObj && text.length > validatorObj.maxlength) {\n                    fieldState.valid = false;\n                    fieldState.errors.maxlength = true;\n                    result = false;\n                    continue;\n                }\n                if ('validators' in validatorObj) {\n                    let error = validatorObj['validators'].validateValue(text)\n                    if (error) {\n                        fieldState.valid = false;\n                        fieldState.errors = error;\n                        result = false;\n                        continue;\n                    }    \n                }\n                fieldState.valid = true;\n                fieldState.errors = undefined;\n                this.detail[validatorObj.fieldName] = content;\n            }\n        }\n        return result;\n    }\n    onEdtiorPreview(editorName:string) {\n        if (this.textEditors)\n            this.textEditors.forEach( (editor) => {\n                if (editor.name == editorName) editor.preview();\n            });\n    }\n    \n    /*Parent router related*/\n    protected getParentRouteItem():string {\n        let routeSnapshot = this.route.snapshot;\n        let parentItem;\n        do {\n              if (routeSnapshot.data && routeSnapshot.data.mraLevel == 1 ) {\n                parentItem = routeSnapshot.data.item;\n                break;\n              }\n              routeSnapshot = routeSnapshot.parent;\n        } while (routeSnapshot)\n        return parentItem;\n    }\n\n    protected getParentRouteItemId():string {\n        let routeSnapshot = this.route.snapshot;\n        let parentItemId;\n        do {\n              if (routeSnapshot.data && routeSnapshot.data.mraLevel == 1 && ('id' in routeSnapshot.params)) {\n                parentItemId = routeSnapshot.params.id;\n                break;\n              }\n              routeSnapshot = routeSnapshot.parent;\n        } while (routeSnapshot)\n        return parentItemId;\n    }\n        \n    protected getParentRouteRefField():string {\n        let mp = this.referenceFieldsMap;\n        for (let prop in mp) {\n            if (mp.hasOwnProperty(prop) && mp[prop] == this.parentItem) {\n                return prop;\n            }\n        }\n    }\n\n    protected getParentActivatedRouter():ActivatedRoute {\n        let route = this.route;\n        do {\n            let data = route.snapshot.data;\n            //all route inside the mra system will have mraLevel data item\n            if (!data.mraLevel) return route;\n            route = route.parent;\n        } while (route)\n        return this.route.root;\n    }\n    \n    /*Sub detail show flag*/\n    public toggleCheckedItem(i:number):void {\n        this.checkedItem[i] = !this.checkedItem[i];\n    }\n\n    /*** Any View - add new component in the current view*/\n    protected isAdding: boolean = false;\n    public onAdd() {\n        this.isAdding = true;\n    }\n    public toggleAdd() {\n        this.isAdding = !this.isAdding;\n    }\n    public onAddDone(result: boolean) {\n        this.isAdding = false;\n        if (result) { //add successful. Re-populate the current list\n          if (this.view == ViewType.LIST) {\n            this.populateList();\n          }\n        } else {\n            ; //do nothing\n        }\n    }\n    \n    /*Date Range Selection */\n    hoveredDate: any;\n\n    onDateSelectionToggle(fn:string) {\n        this.detail[fn]['pop'] = !this.detail[fn]['pop'];\n    }\n    \n    onDateSelection(fn:string, date: any) {\n        if (!this.detail[fn]['from'] && !this.detail[fn]['to']) {\n          this.detail[fn]['from'] = date;\n        } else if (this.detail[fn]['from'] && !this.detail[fn]['to'] && date.after(this.detail[fn]['from'])) {\n          this.detail[fn]['to'] = date;\n          this.detail[fn]['pop'] = false; //Finished. hide the selection \n        } else {\n          this.detail[fn]['to'] = null;\n          this.detail[fn]['from'] = date;\n        }\n    }\n\n    isHovered(fn:string, date: any) {\n        return this.detail[fn]['from'] && !this.detail[fn]['to'] && this.hoveredDate && date.after(this.detail[fn]['from']) && date.before(this.hoveredDate);\n    }\n\n    isInside(fn:string, date: any) {\n        return date.after(this.detail[fn]['from']) && date.before(this.detail[fn]['to']);\n    }\n\n    isRange(fn:string, date: any) {\n        return date.equals(this.detail[fn]['from']) || date.equals(this.detail[fn]['to']) || this.isInside(fn, date) || this.isHovered(fn, date);\n    }\n}\n","import { Input, Directive } from '@angular/core';\nimport { NG_VALIDATORS, Validator, ValidationErrors, AbstractControl } from '@angular/forms';\n\n@Directive({\n  selector: '[minnumber]',\n  providers: [{provide: NG_VALIDATORS, useExisting: MinNumber, multi: true}]\n})\nexport class MinNumber implements Validator {\n  @Input('minnumber') minnumber: string;\n    \n  validate(control: AbstractControl): ValidationErrors | null {\n    let num = control.value;\n    let minnum = parseFloat(this.minnumber);\n    if (isNaN(minnum)) return null;     //only compare when max is a number\n    //only compare when inputs are numbers\n    if (typeof num == 'number' && num < minnum)\n        return { 'minnumber': \"must be no less than \" + minnum };\n    return null;\n  }\n}\n\n@Directive({\n  selector: '[maxnumber]',\n  providers: [{provide: NG_VALIDATORS, useExisting: MaxNumber, multi: true}]\n})\nexport class MaxNumber implements Validator {\n  @Input('maxnumber') maxnumber: string;\n    \n  validate(control: AbstractControl): ValidationErrors | null {\n    let num = control.value;\n    let maxnum = parseFloat(this.maxnumber);\n    if (isNaN(maxnum)) return null;     //only compare when max is a number\n    //only compare when inputs are numbers\n    if (typeof num == 'number' && num > maxnum)\n        return { 'maxnumber': \"must be no greater than \" + maxnum };\n    return null;\n  }\n}\n\n/* This is how you can get the name of the control - from which you can mapping to the model name\n    let controls = control.parent.controls;\n    let whoami;\n    for( let prop in controls ) {\n        if( controls[ prop ] == control) {\n            whoami = prop;\n            break;\n        }\n    }\n*/\n","import { ElementRef, Renderer2, Directive, Input} from '@angular/core';\n\ndeclare var $: any;\n\nvar fullscreenCss = `\n\n.editorhide {\n    display: none;\n}\n.editorfullscreen {\n    display: block;\n    position: fixed; \n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%; \n    overflow: auto; \n    z-index: 1050;\n    background-color: #fff;\n}\n\n.editor-action-buttons {\n    width: 100%;\n    float:right; \n    text-align: right;\n    margin-bottom: 1.25rem;\n    margin-top: 2.5rem;\n}\n.editor-action-buttons .btn {\n    display: inline-block;\n    margin-left: 2.5rem;\n}\n\n`;\n\nvar fullscreenHtml = `\n<div class=\"editorfullscreen\" id=\"mraeditorfullscreenDiv\">\n\n<div class=\"container\">\n  <div class=\"row\">\n    <div class=\"col\">\n      <div class=\"editor-action-buttons\">\n            <button id=\"mraeditorfullscreenClose\" class=\"btn btn-outline-success\">Close</button>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\">\n    <div class=\"col\">\n        <div class=\"card\">\n            <div class=\"card-body\" id=\"mrafullscreenHtml\"></div>\n        </div>\n    </div>\n  </div>\n</div>\n\n</div>\n`;\n\n\nvar summerNoteConfig = {\n          minHeight: 200,\n          focus: false,\n          airMode: false,\n          //fontNames: ['Roboto', 'Calibri', 'Times New Roman', 'Arial'],\n          //fontNamesIgnoreCheck: ['Roboto', 'Calibri'],\n          dialogsInBody: true,\n          dialogsFade: true,\n          disableDragAndDrop: false,\n          toolbar: [\n            // [groupName, [list of button]]\n            ['font', ['style', 'fontname','fontsize', 'color']],\n            ['style', ['bold', 'italic', 'underline']],//, 'strikethrough'\n            //['font', [ 'superscript', 'subscript','clear']],\n             ['paragraph', ['ul', 'ol', 'paragraph']],//, 'height'\n             ['insert', ['table', 'picture', 'link', 'video']],//, 'hr'\n            //['misc', ['undo', 'redo', 'print', 'help', 'fullscreen']]\n            ['misc', ['undo', 'redo', 'fullscreen']]\n          ],\n//          popover: {\n//            air: [\n//              ['color', ['color']],\n//              ['font', ['bold', 'underline', 'clear']]\n//            ]\n//          }\n        }\n\n@Directive({\n    selector: '[mra-richtext-select]',\n})\nexport class MraRichTextSelectDirective {\n    @Input('mra-richtext-select') name: string;\n\n    content:string;\n    private id;\n    \n    constructor(private el: ElementRef, private render: Renderer2) {\n        this.id = Date.now();\n\n        //<!-- Create the editor container -->\n        let html = `\n            <div id=\"richtext` + this.id +`\">\n            </div>\n            <div id=\"fullscreen` + this.id +`\"></div>'\n            `; \n\n        if (!$('#mraeditorfullscreenCss').length) {\n            $(\"<style type='text/css' id='mraeditorfullscreenCss'>\" + fullscreenCss + \"</style>\").appendTo(\"head\"); \n        }\n\n\n        this.render.setProperty(this.el.nativeElement, 'innerHTML', html);\n        \n        \n        setTimeout(()=> {\n            if (this.content) $(\"#richtext\"+this.id).html(this.content);\n            $(\"#richtext\"+this.id).summernote(summerNoteConfig);\n        }, 1);\n    }\n    \n    setContent(content:string) {\n        this.content = content;\n        if (this.content) {\n            $(\"#richtext\"+this.id).each(function( index ) {\n              $(this).summernote('destroy');\n            });            \n            $(\"#richtext\"+this.id).html(this.content);\n            $(\"#richtext\"+this.id).summernote(summerNoteConfig);\n        }\n    }\n    \n    getContent():string[] {\n        let html = $(\"#richtext\"+this.id).summernote('code');\n        let text = $(\"<div>\"+html+\"</div>\").text();\n        return [html, text];\n    }\n    preview() {\n        \n        if (!$('#mraeditorfullscreenDiv').length) {\n            $(\"#fullscreen\"+this.id).append(fullscreenHtml); \n        }\n\n        $(\"#mraeditorfullscreenClose\" ).click(function() {\n            $('#mraeditorfullscreenDiv').remove();\n        });\n\n        let [html, text] = this.getContent();\n        $(\"#mrafullscreenHtml\").html(html);\n    }\n}\n\n@Directive({\n    selector: '[mra-richtext-show]',\n})\nexport class MraRichTextShowDirective {\n    @Input('mra-richtext-show') name: string;\n    constructor(private el: ElementRef, private render: Renderer2) {\n    }\n    \n    setContent(content:string) {\n        let id = Date.now();\n        var displayHtml = `\n            <div class=\"card\">\n                <div class=\"card-body\" id=\"mraeditordisplay` + id +`\"></div>\n            </div>\n        `;\n\n        this.render.setProperty(this.el.nativeElement, 'innerHTML', displayHtml);\n        $(\"#mraeditordisplay\" + id).html(content);\n    }\n    \n}\n","import { NgModule } from '@angular/core';\n\nimport { MinNumber, MaxNumber } from './common.directives';\nimport { MraRichTextSelectDirective, MraRichTextShowDirective } from './summernote.directive';\nimport { MraCommonService } from './common.service';\n@NgModule({\n  imports: [\n  ],\n  declarations: [\n    MinNumber,\n    MaxNumber,\n    MraRichTextSelectDirective,\n    MraRichTextShowDirective\n  ],\n  exports: [\n    MinNumber,\n    MaxNumber,\n    MraRichTextSelectDirective,\n    MraRichTextShowDirective\n ],\n  providers: [\n    MraCommonService\n  ],\n})\nexport class MraModule { }","export var dateStructureToString = function(date: any, fmt:string):string {\n    let d, M, yyyy, h, m, s;\n    let value;\n    if (!date) return \"\"; //undefined\n    \n    d = date.day;\n    M = date.month; \n    yyyy = date.year;\n    if (typeof d !== 'number' || typeof M !== 'number'  || typeof yyyy !== 'number' ) return \"\"; //undefined\n    \n    let yy = yyyy.toString().slice(2);    \n    let dd= d<10? '0'+d: d.toString();\n    let MM= M<10? '0'+M: M.toString();\n    \n    value = fmt.replace(/yyyy/ig, yyyy.toString()).\n                   replace(/yy/ig, yy.toString()).\n                   replace(/MM/g, MM.toString()).\n                   replace(/dd/ig, dd.toString());\n    return value;\n}\n\nexport var stringToDateStructure = function(value: string, fmt:string):any {\n    let date;    \n    let result = [];\n    if (value.length != fmt.length) return date; //not ready\n    let regexes = [{re:/yyyy/i, len: 4}, {re: /yy/i, len: 2}, {re:/MM/, len: 2}, {re: /dd/i, len: 2}];\n    for (let reg of regexes) {\n        let p = fmt.search(reg.re); //find position in format\n        let v;\n        if (p != -1) v = parseInt(value.slice(p, p+reg.len));\n        else v = NaN\n        result.push(v);\n    }\n    let [yyyy, yy, M, d] = result;\n    if ( (isNaN(yyyy) && isNaN(yy) ) || isNaN(M) || isNaN(d) ) return date; //undefined\n    return {day:d, month: M, year: yyyy?yyyy:2000+yy };\n\n}\n","import { ActivatedRouteSnapshot, DetachedRouteHandle, RouteReuseStrategy } from '@angular/router'\n\nconst COMPONENT_CACHE_DURATION = 30 * 1000;\nexport class MraRouteReuseStrategy implements RouteReuseStrategy {\n\n    detachedRouteHandles: { [key: string]: any[] } = {}; //key is url, and value is at [handle, timestamp] format\n    pageYOffset = {};\n    editItems = {};\n    isAuth = false;\n\n    /* Start: The following should use the authService. But let's decouple dependency now */\n    private isAuthorized(): boolean {\n        //Refer to AuthenticationService for this function.\n        const authRecord = JSON.parse(localStorage.getItem('mdds-auth-record'));\n        if (authRecord && authRecord.accessToken ) {return true;}\n        return false;\n    }\n    private getLogoutTime(): number {\n        const authRecord = JSON.parse(localStorage.getItem('mdds-auth-record'));\n        if (authRecord) { \n            return authRecord.logoutTs;\n        }\n        return 0;\n    }\n    /* End */\n\n    private isLogoutReload(): boolean {\n        if (this.isAuthorized()) { \n            return false;\n        }\n        const currentTs = Date.now();\n        const logoutTs = this.getLogoutTime();\n        if (currentTs - logoutTs < 1000) { \n            return true;\n        }\n        return false;\n    }\n\n    private checkAuthentication() {\n        const auth = this.isAuth;\n        this.isAuth = this.isAuthorized();\n        if (this.isAuth != auth) { \n            // authentication status changed. Not attach;\n            this.detachedRouteHandles = {}; // empty the map\n        }\n    }\n\n    /** Determines if this route (and its subtree) should be detached to be reused later */\n    public shouldDetach(route: ActivatedRouteSnapshot): boolean {\n        if (route.routeConfig && route.routeConfig.path === 'list') {\n            //save current scroll position\n            let key = route['_routerState'].url;\n            this.pageYOffset[key] = window.pageYOffset;\n        }\n        return route.routeConfig.path === 'list';\n    }\n\n    /** Stores the detached route */\n    public store(route: ActivatedRouteSnapshot, handle: DetachedRouteHandle): void {\n        const date = new Date();\n        const key = route['_routerState'].url;\n        if (!handle) return;\n        this.detachedRouteHandles[key] = [handle, date.getTime()]\n    }\n\n    /** Determines if this route (and its subtree) should be reattached */\n    public shouldAttach(route: ActivatedRouteSnapshot): boolean {\n        this.checkAuthentication();\n        let date = new Date();\n        let key = route['_routerState'].url;\n        if (route.routeConfig && (route.routeConfig.path === 'new' || route.routeConfig.path === 'edit/:id')) {\n            if (route.data && route.data.item) { \n                this.editItems[route.data.item] = true;\n            }\n        }\n        if (!route.routeConfig || route.routeConfig.path !== 'list') {  return false; }\n        if (!this.detachedRouteHandles[key]) { return false; }\n        if (date.getTime() - this.detachedRouteHandles[key][1]  > COMPONENT_CACHE_DURATION)  return false;\n        return true;\n    }\n\n    /** Retrieves the previously stored route */\n    public retrieve(route: ActivatedRouteSnapshot): DetachedRouteHandle {\n        let date = new Date();\n        let key = route['_routerState'].url;\n        if (!route.routeConfig || route.routeConfig.path !== 'list') return null;\n        if (route.data.item && (route.data.item in this.editItems)) {\n            delete this.editItems[route.data.item];\n            delete this.detachedRouteHandles[key];\n            return null;\n        }\n        if (!this.detachedRouteHandles[key]) return null;\n        if (date.getTime() - this.detachedRouteHandles[key][1]  > COMPONENT_CACHE_DURATION) return null;\n        \n        let yOffset = this.pageYOffset[key];\n        setTimeout(function () {\n                console.log(\"==retrieve: \", key, yOffset);\n                window.scrollTo(0, yOffset);\n            }, 20); //scroll to saved position\n        \n        return this.detachedRouteHandles[key][0];\n    }\n\n    /** Determines if a route should be reused */\n    public shouldReuseRoute(future: ActivatedRouteSnapshot, curr: ActivatedRouteSnapshot): boolean {\n        // Below is the default implementation;\n        if (this.isLogoutReload()) {\n            return false; // authentication status changed. Don't reuse.\n        }\n        return future.routeConfig === curr.routeConfig\n    }\n}\n"],"names":["http","throwError","HttpParams","HttpHeaders","map","catchError","Injectable","EventEmitter","tslib_1.__values","Directive","NG_VALIDATORS","Input","ElementRef","Renderer2","NgModule"],"mappings":"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"}
