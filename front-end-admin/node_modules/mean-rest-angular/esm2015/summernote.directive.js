/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { ElementRef, Renderer2, Directive, Input } from '@angular/core';
/** @type {?} */
var fullscreenCss = `

.editorhide {
    display: none;
}
.editorfullscreen {
    display: block;
    position: fixed; 
    left: 0;
    top: 0;
    width: 100%;
    height: 100%; 
    overflow: auto; 
    z-index: 1050;
    background-color: #fff;
}

.editor-action-buttons {
    width: 100%;
    float:right; 
    text-align: right;
    margin-bottom: 1.25rem;
    margin-top: 2.5rem;
}
.editor-action-buttons .btn {
    display: inline-block;
    margin-left: 2.5rem;
}

`;
/** @type {?} */
var fullscreenHtml = `
<div class="editorfullscreen" id="mraeditorfullscreenDiv">

<div class="container">
  <div class="row">
    <div class="col">
      <div class="editor-action-buttons">
            <button id="mraeditorfullscreenClose" class="btn btn-outline-success">Close</button>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col">
        <div class="card">
            <div class="card-body" id="mrafullscreenHtml"></div>
        </div>
    </div>
  </div>
</div>

</div>
`;
/** @type {?} */
var summerNoteConfig = {
    minHeight: 200,
    focus: false,
    airMode: false,
    //fontNames: ['Roboto', 'Calibri', 'Times New Roman', 'Arial'],
    //fontNamesIgnoreCheck: ['Roboto', 'Calibri'],
    dialogsInBody: true,
    dialogsFade: true,
    disableDragAndDrop: false,
    toolbar: [
        // [groupName, [list of button]]
        ['font', ['style', 'fontname', 'fontsize', 'color']],
        ['style', ['bold', 'italic', 'underline']],
        //['font', [ 'superscript', 'subscript','clear']],
        ['paragraph', ['ul', 'ol', 'paragraph']],
        ['insert', ['table', 'picture', 'link', 'video']],
        //['misc', ['undo', 'redo', 'print', 'help', 'fullscreen']]
        ['misc', ['undo', 'redo', 'fullscreen']]
    ],
};
export class MraRichTextSelectDirective {
    /**
     * @param {?} el
     * @param {?} render
     */
    constructor(el, render) {
        this.el = el;
        this.render = render;
        this.id = Date.now();
        //<!-- Create the editor container -->
        /** @type {?} */
        let html = `
            <div id="richtext` + this.id + `">
            </div>
            <div id="fullscreen` + this.id + `"></div>'
            `;
        if (!$('#mraeditorfullscreenCss').length) {
            $("<style type='text/css' id='mraeditorfullscreenCss'>" + fullscreenCss + "</style>").appendTo("head");
        }
        this.render.setProperty(this.el.nativeElement, 'innerHTML', html);
        setTimeout(() => {
            if (this.content)
                $("#richtext" + this.id).html(this.content);
            $("#richtext" + this.id).summernote(summerNoteConfig);
        }, 1);
    }
    /**
     * @param {?} content
     * @return {?}
     */
    setContent(content) {
        this.content = content;
        if (this.content) {
            $("#richtext" + this.id).each(function (index) {
                $(this).summernote('destroy');
            });
            $("#richtext" + this.id).html(this.content);
            $("#richtext" + this.id).summernote(summerNoteConfig);
        }
    }
    /**
     * @return {?}
     */
    getContent() {
        /** @type {?} */
        let html = $("#richtext" + this.id).summernote('code');
        /** @type {?} */
        let text = $("<div>" + html + "</div>").text();
        return [html, text];
    }
    /**
     * @return {?}
     */
    preview() {
        if (!$('#mraeditorfullscreenDiv').length) {
            $("#fullscreen" + this.id).append(fullscreenHtml);
        }
        $("#mraeditorfullscreenClose").click(function () {
            $('#mraeditorfullscreenDiv').remove();
        });
        let [html, text] = this.getContent();
        $("#mrafullscreenHtml").html(html);
    }
}
MraRichTextSelectDirective.decorators = [
    { type: Directive, args: [{
                selector: '[mra-richtext-select]',
            },] }
];
/** @nocollapse */
MraRichTextSelectDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
MraRichTextSelectDirective.propDecorators = {
    name: [{ type: Input, args: ['mra-richtext-select',] }]
};
if (false) {
    /** @type {?} */
    MraRichTextSelectDirective.prototype.name;
    /** @type {?} */
    MraRichTextSelectDirective.prototype.content;
    /**
     * @type {?}
     * @private
     */
    MraRichTextSelectDirective.prototype.id;
    /**
     * @type {?}
     * @private
     */
    MraRichTextSelectDirective.prototype.el;
    /**
     * @type {?}
     * @private
     */
    MraRichTextSelectDirective.prototype.render;
}
export class MraRichTextShowDirective {
    /**
     * @param {?} el
     * @param {?} render
     */
    constructor(el, render) {
        this.el = el;
        this.render = render;
    }
    /**
     * @param {?} content
     * @return {?}
     */
    setContent(content) {
        /** @type {?} */
        let id = Date.now();
        /** @type {?} */
        var displayHtml = `
            <div class="card">
                <div class="card-body" id="mraeditordisplay` + id + `"></div>
            </div>
        `;
        this.render.setProperty(this.el.nativeElement, 'innerHTML', displayHtml);
        $("#mraeditordisplay" + id).html(content);
    }
}
MraRichTextShowDirective.decorators = [
    { type: Directive, args: [{
                selector: '[mra-richtext-show]',
            },] }
];
/** @nocollapse */
MraRichTextShowDirective.ctorParameters = () => [
    { type: ElementRef },
    { type: Renderer2 }
];
MraRichTextShowDirective.propDecorators = {
    name: [{ type: Input, args: ['mra-richtext-show',] }]
};
if (false) {
    /** @type {?} */
    MraRichTextShowDirective.prototype.name;
    /**
     * @type {?}
     * @private
     */
    MraRichTextShowDirective.prototype.el;
    /**
     * @type {?}
     * @private
     */
    MraRichTextShowDirective.prototype.render;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VtbWVybm90ZS5kaXJlY3RpdmUuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9tZWFuLXJlc3QtYW5ndWxhci8iLCJzb3VyY2VzIjpbInN1bW1lcm5vdGUuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsVUFBVSxFQUFFLFNBQVMsRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFDLE1BQU0sZUFBZSxDQUFDOztJQUluRSxhQUFhLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0NBNkJuQjs7SUFFRyxjQUFjLEdBQUc7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FzQnBCOztJQUdHLGdCQUFnQixHQUFHO0lBQ2IsU0FBUyxFQUFFLEdBQUc7SUFDZCxLQUFLLEVBQUUsS0FBSztJQUNaLE9BQU8sRUFBRSxLQUFLOzs7SUFHZCxhQUFhLEVBQUUsSUFBSTtJQUNuQixXQUFXLEVBQUUsSUFBSTtJQUNqQixrQkFBa0IsRUFBRSxLQUFLO0lBQ3pCLE9BQU8sRUFBRTtRQUNQLGdDQUFnQztRQUNoQyxDQUFDLE1BQU0sRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVLEVBQUMsVUFBVSxFQUFFLE9BQU8sQ0FBQyxDQUFDO1FBQ25ELENBQUMsT0FBTyxFQUFFLENBQUMsTUFBTSxFQUFFLFFBQVEsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUMxQyxrREFBa0Q7UUFDakQsQ0FBQyxXQUFXLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxDQUFDO1FBQ3hDLENBQUMsUUFBUSxFQUFFLENBQUMsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsT0FBTyxDQUFDLENBQUM7UUFDbEQsMkRBQTJEO1FBQzNELENBQUMsTUFBTSxFQUFFLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxZQUFZLENBQUMsQ0FBQztLQUN6QztDQU9GO0FBS1QsTUFBTSxPQUFPLDBCQUEwQjs7Ozs7SUFNbkMsWUFBb0IsRUFBYyxFQUFVLE1B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MENBQTJDOztJQUUzQyw2Q0FBZTs7Ozs7SUFDZix3Q0FBVzs7Ozs7SUFFQyx3Q0FBc0I7Ozs7O0lBQUUsNENBQXlCOztBQTBEakUsTUFBTSxPQUFPLHdCQUF3Qjs7Ozs7SUFFakMsWUFBb0IsRUFBYyxFQUFVLE1BQWlCO1FBQXpDLE9BQUUsR0FBRixFQUFFLENBQVk7UUFBVSxXQUFNLEdBQU4sTUFBTSxDQUFXO0lBQzdELENBQUM7Ozs7O0lBRUQsVUFBVSxDQUFDLE9BQWM7O1lBQ2pCLEVBQUUsR0FBRyxJQUFJLENBQUMsR0FBRyxFQUFFOztZQUNmLFdBQVcsR0FBRzs7NERBRWtDLEdBQUcsRUFBRSxHQUFFOztTQUUxRDtRQUVELElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFFLFdBQVcsRUFBRSxXQUFXLENBQUMsQ0FBQztRQUN6RSxDQUFDLENBQUMsbUJBQW1CLEdBQUcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0lBQzlDLENBQUM7OztZQWxCSixTQUFTLFNBQUM7Z0JBQ1AsUUFBUSxFQUFFLHFCQUFxQjthQUNsQzs7OztZQXpKUSxVQUFVO1lBQUUsU0FBUzs7O21CQTJKekIsS0FBSyxTQUFDLG1CQUFtQjs7OztJQUExQix3Q0FBeUM7Ozs7O0lBQzdCLHNDQUFzQjs7Ozs7SUFBRSwwQ0FBeUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFbGVtZW50UmVmLCBSZW5kZXJlcjIsIERpcmVjdGl2ZSwgSW5wdXR9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5kZWNsYXJlIHZhciAkOiBhbnk7XG5cbnZhciBmdWxsc2NyZWVuQ3NzID0gYFxuXG4uZWRpdG9yaGlkZSB7XG4gICAgZGlzcGxheTogbm9uZTtcbn1cbi5lZGl0b3JmdWxsc2NyZWVuIHtcbiAgICBkaXNwbGF5OiBibG9jaztcbiAgICBwb3NpdGlvbjogZml4ZWQ7IFxuICAgIGxlZnQ6IDA7XG4gICAgdG9wOiAwO1xuICAgIHdpZHRoOiAxMDAlO1xuICAgIGhlaWdodDogMTAwJTsgXG4gICAgb3ZlcmZsb3c6IGF1dG87IFxuICAgIHotaW5kZXg6IDEwNTA7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjtcbn1cblxuLmVkaXRvci1hY3Rpb24tYnV0dG9ucyB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgZmxvYXQ6cmlnaHQ7IFxuICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgIG1hcmdpbi1ib3R0b206IDEuMjVyZW07XG4gICAgbWFyZ2luLXRvcDogMi41cmVtO1xufVxuLmVkaXRvci1hY3Rpb24tYnV0dG9ucyAuYnRuIHtcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XG4gICAgbWFyZ2luLWxlZnQ6IDIuNXJlbTtcbn1cblxuYDtcblxudmFyIGZ1bGxzY3JlZW5IdG1sID0gYFxuPGRpdiBjbGFzcz1cImVkaXRvcmZ1bGxzY3JlZW5cIiBpZD1cIm1yYWVkaXRvcmZ1bGxzY3JlZW5EaXZcIj5cblxuPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgPGRpdiBjbGFzcz1cImNvbFwiPlxuICAgICAgPGRpdiBjbGFzcz1cImVkaXRvci1hY3Rpb24tYnV0dG9uc1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm1yYWVkaXRvcmZ1bGxzY3JlZW5DbG9zZVwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXN1Y2Nlc3NcIj5DbG9zZTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCIgaWQ9XCJtcmFmdWxsc2NyZWVuSHRtbFwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cblxuPC9kaXY+XG5gO1xuXG5cbnZhciBzdW1tZXJOb3RlQ29uZmlnID0ge1xuICAgICAgICAgIG1pbkhlaWdodDogMjAwLFxuICAgICAgICAgIGZvY3VzOiBmYWxzZSxcbiAgICAgICAgICBhaXJNb2RlOiBmYWxzZSxcbiAgICAgICAgICAvL2ZvbnROYW1lczogWydSb2JvdG8nLCAnQ2FsaWJyaScsICdUaW1lcyBOZXcgUm9tYW4nLCAnQXJpYWwnXSxcbiAgICAgICAgICAvL2ZvbnROYW1lc0lnbm9yZUNoZWNrOiBbJ1JvYm90bycsICdDYWxpYnJpJ10sXG4gICAgICAgICAgZGlhbG9nc0luQm9keTogdHJ1ZSxcbiAgICAgICAgICBkaWFsb2dzRmFkZTogdHJ1ZSxcbiAgICAgICAgICBkaXNhYmxlRHJhZ0FuZERyb3A6IGZhbHNlLFxuICAgICAgICAgIHRvb2xiYXI6IFtcbiAgICAgICAgICAgIC8vIFtncm91cE5hbWUsIFtsaXN0IG9mIGJ1dHRvbl1dXG4gICAgICAgICAgICBbJ2ZvbnQnLCBbJ3N0eWxlJywgJ2ZvbnRuYW1lJywnZm9udHNpemUnLCAnY29sb3InXV0sXG4gICAgICAgICAgICBbJ3N0eWxlJywgWydib2xkJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnXV0sLy8sICdzdHJpa2V0aHJvdWdoJ1xuICAgICAgICAgICAgLy9bJ2ZvbnQnLCBbICdzdXBlcnNjcmlwdCcsICdzdWJzY3JpcHQnLCdjbGVhciddXSxcbiAgICAgICAgICAgICBbJ3BhcmFncmFwaCcsIFsndWwnLCAnb2wnLCAncGFyYWdyYXBoJ11dLC8vLCAnaGVpZ2h0J1xuICAgICAgICAgICAgIFsnaW5zZXJ0JywgWyd0YWJsZScsICdwaWN0dXJlJywgJ2xpbmsnLCAndmlkZW8nXV0sLy8sICdocidcbiAgICAgICAgICAgIC8vWydtaXNjJywgWyd1bmRvJywgJ3JlZG8nLCAncHJpbnQnLCAnaGVscCcsICdmdWxsc2NyZWVuJ11dXG4gICAgICAgICAgICBbJ21pc2MnLCBbJ3VuZG8nLCAncmVkbycsICdmdWxsc2NyZWVuJ11dXG4gICAgICAgICAgXSxcbi8vICAgICAgICAgIHBvcG92ZXI6IHtcbi8vICAgICAgICAgICAgYWlyOiBbXG4vLyAgICAgICAgICAgICAgWydjb2xvcicsIFsnY29sb3InXV0sXG4vLyAgICAgICAgICAgICAgWydmb250JywgWydib2xkJywgJ3VuZGVybGluZScsICdjbGVhciddXVxuLy8gICAgICAgICAgICBdXG4vLyAgICAgICAgICB9XG4gICAgICAgIH1cblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbbXJhLXJpY2h0ZXh0LXNlbGVjdF0nLFxufSlcbmV4cG9ydCBjbGFzcyBNcmFSaWNoVGV4dFNlbGVjdERpcmVjdGl2ZSB7XG4gICAgQElucHV0KCdtcmEtcmljaHRleHQtc2VsZWN0JykgbmFtZTogc3RyaW5nO1xuXG4gICAgY29udGVudDpzdHJpbmc7XG4gICAgcHJpdmF0ZSBpZDtcbiAgICBcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsOiBFbGVtZW50UmVmLCBwcml2YXRlIHJlbmRlcjogUmVuZGVyZXIyKSB7XG4gICAgICAgIHRoaXMuaWQgPSBEYXRlLm5vdygpO1xuXG4gICAgICAgIC8vPCEtLSBDcmVhdGUgdGhlIGVkaXRvciBjb250YWluZXIgLS0+XG4gICAgICAgIGxldCBodG1sID0gYFxuICAgICAgICAgICAgPGRpdiBpZD1cInJpY2h0ZXh0YCArIHRoaXMuaWQgK2BcIj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBpZD1cImZ1bGxzY3JlZW5gICsgdGhpcy5pZCArYFwiPjwvZGl2PidcbiAgICAgICAgICAgIGA7IFxuXG4gICAgICAgIGlmICghJCgnI21yYWVkaXRvcmZ1bGxzY3JlZW5Dc3MnKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICQoXCI8c3R5bGUgdHlwZT0ndGV4dC9jc3MnIGlkPSdtcmFlZGl0b3JmdWxsc2NyZWVuQ3NzJz5cIiArIGZ1bGxzY3JlZW5Dc3MgKyBcIjwvc3R5bGU+XCIpLmFwcGVuZFRvKFwiaGVhZFwiKTsgXG4gICAgICAgIH1cblxuXG4gICAgICAgIHRoaXMucmVuZGVyLnNldFByb3BlcnR5KHRoaXMuZWwubmF0aXZlRWxlbWVudCwgJ2lubmVySFRNTCcsIGh0bWwpO1xuICAgICAgICBcbiAgICAgICAgXG4gICAgICAgIHNldFRpbWVvdXQoKCk9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb250ZW50KSAkKFwiI3JpY2h0ZXh0XCIrdGhpcy5pZCkuaHRtbCh0aGlzLmNvbnRlbnQpO1xuICAgICAgICAgICAgJChcIiNyaWNodGV4dFwiK3RoaXMuaWQpLnN1bW1lcm5vdGUoc3VtbWVyTm90ZUNvbmZpZyk7XG4gICAgICAgIH0sIDEpO1xuICAgIH1cbiAgICBcbiAgICBzZXRDb250ZW50KGNvbnRlbnQ6c3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICQoXCIjcmljaHRleHRcIit0aGlzLmlkKS5lYWNoKGZ1bmN0aW9uKCBpbmRleCApIHtcbiAgICAgICAgICAgICAgJCh0aGlzKS5zdW1tZXJub3RlKCdkZXN0cm95Jyk7XG4gICAgICAgICAgICB9KTsgICAgICAgICAgICBcbiAgICAgICAgICAgICQoXCIjcmljaHRleHRcIit0aGlzLmlkKS5odG1sKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICAkKFwiI3JpY2h0ZXh0XCIrdGhpcy5pZCkuc3VtbWVybm90ZShzdW1tZXJOb3RlQ29uZmlnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBnZXRDb250ZW50KCk6c3RyaW5nW10ge1xuICAgICAgICBsZXQgaHRtbCA9ICQoXCIjcmljaHRleHRcIit0aGlzLmlkKS5zdW1tZXJub3RlKCdjb2RlJyk7XG4gICAgICAgIGxldCB0ZXh0ID0gJChcIjxkaXY+XCIraHRtbCtcIjwvZGl2PlwiKS50ZXh0KCk7XG4gICAgICAgIHJldHVybiBbaHRtbCwgdGV4dF07XG4gICAgfVxuICAgIHByZXZpZXcoKSB7XG4gICAgICAgIFxuICAgICAgICBpZiAoISQoJyNtcmFlZGl0b3JmdWxsc2NyZWVuRGl2JykubGVuZ3RoKSB7XG4gICAgICAgICAgICAkKFwiI2Z1bGxzY3JlZW5cIit0aGlzLmlkKS5hcHBlbmQoZnVsbHNjcmVlbkh0bWwpOyBcbiAgICAgICAgfVxuXG4gICAgICAgICQoXCIjbXJhZWRpdG9yZnVsbHNjcmVlbkNsb3NlXCIgKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJyNtcmFlZGl0b3JmdWxsc2NyZWVuRGl2JykucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBbaHRtbCwgdGV4dF0gPSB0aGlzLmdldENvbnRlbnQoKTtcbiAgICAgICAgJChcIiNtcmFmdWxsc2NyZWVuSHRtbFwiKS5odG1sKGh0bWwpO1xuICAgIH1cbn1cblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbbXJhLXJpY2h0ZXh0LXNob3ddJyxcbn0pXG5leHBvcnQgY2xhc3MgTXJhUmljaFRleHRTaG93RGlyZWN0aXZlIHtcbiAgICBASW5wdXQoJ21yYS1yaWNodGV4dC1zaG93JykgbmFtZTogc3RyaW5nO1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsIHByaXZhdGUgcmVuZGVyOiBSZW5kZXJlcjIpIHtcbiAgICB9XG4gICAgXG4gICAgc2V0Q29udGVudChjb250ZW50OnN0cmluZykge1xuICAgICAgICBsZXQgaWQgPSBEYXRlLm5vdygpO1xuICAgICAgICB2YXIgZGlzcGxheUh0bWwgPSBgXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZFwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIiBpZD1cIm1yYWVkaXRvcmRpc3BsYXlgICsgaWQgK2BcIj48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICBgO1xuXG4gICAgICAgIHRoaXMucmVuZGVyLnNldFByb3BlcnR5KHRoaXMuZWwubmF0aXZlRWxlbWVudCwgJ2lubmVySFRNTCcsIGRpc3BsYXlIdG1sKTtcbiAgICAgICAgJChcIiNtcmFlZGl0b3JkaXNwbGF5XCIgKyBpZCkuaHRtbChjb250ZW50KTtcbiAgICB9XG4gICAgXG59XG4iXX0=